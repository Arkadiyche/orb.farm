{"version":3,"sources":["webpack:///./crate/pkg/sandtable.js","webpack:///./js/render.js","webpack:///./js/plot.js","webpack:///./js/fps.js","webpack:///./js/tchotchkes.js","webpack:///./js/paint.js","webpack:///./js/components/info.js","webpack:///./js/components/menu.js","webpack:///./js/gauge.js","webpack:///./js/components/ui.js","webpack:///./js/app.js","webpack:///./js/shaderToy.js","webpack:///./js/index.js","webpack:///./crate/pkg/sandtable_bg.js","webpack:///./js/glsl/sandVertex.glsl","webpack:///./assets/daphniaAlpha.gif","webpack:///./assets/bubblebig.png","webpack:///./assets/bubblemed.png","webpack:///./assets/bubblesmall.png","webpack:///./js/glsl/sand.glsl","webpack:///./js/glsl/plot.glsl","webpack:///./ico sync nonrecursive \\.(ico)$","webpack:///./ico/100.ico","webpack:///./ico/8ball.ico","webpack:///./ico/TV.ico","webpack:///./ico/WinRep.ico","webpack:///./ico/accessibility_contrast.ico","webpack:///./ico/accessibility_kbd_mouse.ico","webpack:///./ico/accessibility_two_windows.ico","webpack:///./ico/accessibility_window_objs.ico","webpack:///./ico/active_movie.ico","webpack:///./ico/address_book.ico","webpack:///./ico/address_book_home.ico","webpack:///./ico/address_book_pad.ico","webpack:///./ico/address_book_user.ico","webpack:///./ico/alien2.ico","webpack:///./ico/anchor.ico","webpack:///./ico/apple.ico","webpack:///./ico/armchair.ico","webpack:///./ico/ball.ico","webpack:///./ico/banana.ico","webpack:///./ico/bart.ico","webpack:///./ico/baseball.ico","webpack:///./ico/battery.ico","webpack:///./ico/bee.ico","webpack:///./ico/bone.ico","webpack:///./ico/bow.ico","webpack:///./ico/briefcase.ico","webpack:///./ico/bust.ico","webpack:///./ico/c-clamp.ico","webpack:///./ico/cactus.ico","webpack:///./ico/calculator.ico","webpack:///./ico/calendar.ico","webpack:///./ico/camera.ico","webpack:///./ico/camera2.ico","webpack:///./ico/camera3.ico","webpack:///./ico/camera3_vid.ico","webpack:///./ico/camera_2.ico","webpack:///./ico/camera_vid.ico","webpack:///./ico/carrot.ico","webpack:///./ico/cassette_tape.ico","webpack:///./ico/castle.ico","webpack:///./ico/castle2.ico","webpack:///./ico/caution.ico","webpack:///./ico/cd_audio_cd.ico","webpack:///./ico/cd_audio_cd_a.ico","webpack:///./ico/cd_drive.ico","webpack:///./ico/cd_drive_purple.ico","webpack:///./ico/certificate_seal.ico","webpack:///./ico/chair.ico","webpack:///./ico/chamomile.ico","webpack:///./ico/channels.ico","webpack:///./ico/chart1.ico","webpack:///./ico/cherry.ico","webpack:///./ico/cherryblossom.ico","webpack:///./ico/chip_ramdrive.ico","webpack:///./ico/clean_drive.ico","webpack:///./ico/clock.ico","webpack:///./ico/coin.ico","webpack:///./ico/computer.ico","webpack:///./ico/computer2.ico","webpack:///./ico/computer_2.ico","webpack:///./ico/computer_2_cool.ico","webpack:///./ico/computer_explorer.ico","webpack:///./ico/computer_explorer_2k.ico","webpack:///./ico/computer_explorer_cool.ico","webpack:///./ico/computer_gear.ico","webpack:///./ico/computer_padlock.ico","webpack:///./ico/computer_search.ico","webpack:///./ico/computer_taskmgr.ico","webpack:///./ico/computer_win.ico","webpack:///./ico/controller.ico","webpack:///./ico/crown.ico","webpack:///./ico/crucifix.ico","webpack:///./ico/cube.ico","webpack:///./ico/cubeblue.ico","webpack:///./ico/cursor.ico","webpack:///./ico/cylinder_database.ico","webpack:///./ico/dead.ico","webpack:///./ico/defragment.ico","webpack:///./ico/desktop_old.ico","webpack:///./ico/desktop_w95.ico","webpack:///./ico/dice2.ico","webpack:///./ico/dinoegg.ico","webpack:///./ico/directory_closed.ico","webpack:///./ico/directory_closed_cool.ico","webpack:///./ico/directory_explorer.ico","webpack:///./ico/directory_open.ico","webpack:///./ico/directory_open_cabinet.ico","webpack:///./ico/directory_open_cabinet_fc.ico","webpack:///./ico/directory_open_cool.ico","webpack:///./ico/directory_open_file_mydocs_cool.ico","webpack:///./ico/directory_open_file_mydocs_small.ico","webpack:///./ico/directory_shared.ico","webpack:///./ico/directory_web.ico","webpack:///./ico/directory_zipper.ico","webpack:///./ico/disc.ico","webpack:///./ico/display_properties.ico","webpack:///./ico/dna.ico","webpack:///./ico/dollar.ico","webpack:///./ico/donut.ico","webpack:///./ico/drum_onestick.ico","webpack:///./ico/earth.ico","webpack:///./ico/egg.ico","webpack:///./ico/eiffel.ico","webpack:///./ico/elephant.ico","webpack:///./ico/entire_network_globe.ico","webpack:///./ico/envelope_closed.ico","webpack:///./ico/expand_hierarchial_array.ico","webpack:///./ico/expansion_board.ico","webpack:///./ico/expansion_board_modem.ico","webpack:///./ico/eyeball.ico","webpack:///./ico/fax_machine.ico","webpack:///./ico/flower.ico","webpack:///./ico/folder.ico","webpack:///./ico/frame_web.ico","webpack:///./ico/game_freecell.ico","webpack:///./ico/game_mine_1.ico","webpack:///./ico/game_mine_2.ico","webpack:///./ico/game_solitaire.ico","webpack:///./ico/game_spider.ico","webpack:///./ico/gameboy.ico","webpack:///./ico/gears.ico","webpack:///./ico/gears_tweakui_b.ico","webpack:///./ico/gem1.ico","webpack:///./ico/gem2.ico","webpack:///./ico/glasses3d.ico","webpack:///./ico/globe_map.ico","webpack:///./ico/gps.ico","webpack:///./ico/grave.ico","webpack:///./ico/hard_disk_drive.ico","webpack:///./ico/hard_disk_drives.ico","webpack:///./ico/hardware.ico","webpack:///./ico/heartPastel.ico","webpack:///./ico/heel.ico","webpack:///./ico/help_book_big.ico","webpack:///./ico/help_book_cool.ico","webpack:///./ico/help_book_cool_small.ico","webpack:///./ico/help_book_small.ico","webpack:///./ico/help_question_mark.ico","webpack:///./ico/herb.ico","webpack:///./ico/hibiscus.ico","webpack:///./ico/history.ico","webpack:///./ico/horse.ico","webpack:///./ico/infrared.ico","webpack:///./ico/input_devices.ico","webpack:///./ico/installer.ico","webpack:///./ico/installer_generic_old.ico","webpack:///./ico/internet_connection_wiz.ico","webpack:///./ico/internet_options_old_e.ico","webpack:///./ico/ipad.ico","webpack:///./ico/itunes.ico","webpack:///./ico/jasmineflower.ico","webpack:///./ico/joystick.ico","webpack:///./ico/joystick_alt.ico","webpack:///./ico/key.ico","webpack:///./ico/key_gray.ico","webpack:///./ico/key_padlock.ico","webpack:///./ico/key_win_alt.ico","webpack:///./ico/keyboard.ico","webpack:///./ico/keyboard_musical.ico","webpack:///./ico/keyboard_musical_midi.ico","webpack:///./ico/keys.ico","webpack:///./ico/keys2.ico","webpack:///./ico/kodak_imaging.ico","webpack:///./ico/laptop.ico","webpack:///./ico/laptop_small.ico","webpack:///./ico/lemon.ico","webpack:///./ico/lighter.ico","webpack:///./ico/lips.ico","webpack:///./ico/magnifying_glass.ico","webpack:///./ico/magnifying_glass_3.ico","webpack:///./ico/magnifying_glass_4.ico","webpack:///./ico/mailbox_world.ico","webpack:///./ico/marble.ico","webpack:///./ico/media_player.ico","webpack:///./ico/media_player_stream_sun0.ico","webpack:///./ico/media_player_stream_sun4.ico","webpack:///./ico/memory.ico","webpack:///./ico/mess.ico","webpack:///./ico/message_envelope_open.ico","webpack:///./ico/message_file.ico","webpack:///./ico/message_tack.ico","webpack:///./ico/mic.ico","webpack:///./ico/microphone.ico","webpack:///./ico/microphone_2.ico","webpack:///./ico/minesweeper.ico","webpack:///./ico/modem.ico","webpack:///./ico/monitor_application.ico","webpack:///./ico/monitor_moon.ico","webpack:///./ico/monitor_windows.ico","webpack:///./ico/moon.ico","webpack:///./ico/mouse.ico","webpack:///./ico/mouse2.ico","webpack:///./ico/mouse_ms.ico","webpack:///./ico/mouse_padlock.ico","webpack:///./ico/mouse_snap.ico","webpack:///./ico/movie_maker.ico","webpack:///./ico/msg_warning.ico","webpack:///./ico/msie1.ico","webpack:///./ico/msie2.ico","webpack:///./ico/msie_box.ico","webpack:///./ico/msinfo32.ico","webpack:///./ico/msn.ico","webpack:///./ico/msn2.ico","webpack:///./ico/msn3.ico","webpack:///./ico/msn_cool.ico","webpack:///./ico/mug.ico","webpack:///./ico/music.ico","webpack:///./ico/nasa.ico","webpack:///./ico/nautilus.ico","webpack:///./ico/netmeeting.ico","webpack:///./ico/netmeeting_share.ico","webpack:///./ico/netshow.ico","webpack:///./ico/netshow_notransm.ico","webpack:///./ico/network_cool_two_pcs.ico","webpack:///./ico/network_internet_pcs_installer.ico","webpack:///./ico/network_normal_two_pcs.ico","webpack:///./ico/network_televisons.ico","webpack:///./ico/network_three_pcs.ico","webpack:///./ico/newspaper.ico","webpack:///./ico/newspaper_mail.ico","webpack:///./ico/note.ico","webpack:///./ico/notepad.ico","webpack:///./ico/notepad_file.ico","webpack:///./ico/officechair.ico","webpack:///./ico/onigiri.ico","webpack:///./ico/orb.ico","webpack:///./ico/paint.ico","webpack:///./ico/paint_file.ico","webpack:///./ico/paint_old.ico","webpack:///./ico/paintbrush.ico","webpack:///./ico/palm_computer.ico","webpack:///./ico/palmtree.ico","webpack:///./ico/paper_roll.ico","webpack:///./ico/pawn.ico","webpack:///./ico/pci_card.ico","webpack:///./ico/pci_card_alt.ico","webpack:///./ico/pcx.ico","webpack:///./ico/pcx_alt.ico","webpack:///./ico/peach.ico","webpack:///./ico/pencil.ico","webpack:///./ico/phone_desk.ico","webpack:///./ico/pictures.ico","webpack:///./ico/pie_chart_drvspace.ico","webpack:///./ico/pifedit.ico","webpack:///./ico/pin.ico","webpack:///./ico/pineapple.ico","webpack:///./ico/pizza2.ico","webpack:///./ico/pokeball.ico","webpack:///./ico/pot.ico","webpack:///./ico/prideflag.ico","webpack:///./ico/printer.ico","webpack:///./ico/processor.ico","webpack:///./ico/ps2.ico","webpack:///./ico/pyramid.ico","webpack:///./ico/rainbow.ico","webpack:///./ico/ram_drive.ico","webpack:///./ico/recycle_bin_directory.ico","webpack:///./ico/recycle_bin_empty.ico","webpack:///./ico/recycle_bin_empty_2k.ico","webpack:///./ico/recycle_bin_empty_cool.ico","webpack:///./ico/recycle_bin_file.ico","webpack:///./ico/recycle_bin_file_directory.ico","webpack:///./ico/recycle_bin_full.ico","webpack:///./ico/recycle_bin_full_2k.ico","webpack:///./ico/recycle_bin_full_cool.ico","webpack:///./ico/regedit.ico","webpack:///./ico/regedit_file.ico","webpack:///./ico/registration.ico","webpack:///./ico/removable_disk_drive.ico","webpack:///./ico/removable_disk_drive_alt.ico","webpack:///./ico/replace_directory.ico","webpack:///./ico/ring.ico","webpack:///./ico/saturn.ico","webpack:///./ico/sauron.ico","webpack:///./ico/scandisk.ico","webpack:///./ico/scanner.ico","webpack:///./ico/scanner_alt.ico","webpack:///./ico/scanner_alt_network.ico","webpack:///./ico/scanner_video_cam.ico","webpack:///./ico/scanregw.ico","webpack:///./ico/screen_keyboard.ico","webpack:///./ico/search_computer.ico","webpack:///./ico/search_file.ico","webpack:///./ico/search_file_2.ico","webpack:///./ico/search_file_2_cool.ico","webpack:///./ico/search_file_3.ico","webpack:///./ico/search_laptop_2.ico","webpack:///./ico/search_web.ico","webpack:///./ico/server_gear.ico","webpack:///./ico/server_window.ico","webpack:///./ico/settings_gear.ico","webpack:///./ico/settings_gear_cool.ico","webpack:///./ico/shell_window1.ico","webpack:///./ico/shell_window2.ico","webpack:///./ico/ship.ico","webpack:///./ico/shut_down_cool.ico","webpack:///./ico/shut_down_normal.ico","webpack:///./ico/shut_down_with_computer.ico","webpack:///./ico/sims.ico","webpack:///./ico/skull.ico","webpack:///./ico/sparkle.ico","webpack:///./ico/sparkleheart.ico","webpack:///./ico/spider.ico","webpack:///./ico/spinner.ico","webpack:///./ico/squash.ico","webpack:///./ico/standby_monitor_moon.ico","webpack:///./ico/standby_monitor_moon_cool.ico","webpack:///./ico/statue.ico","webpack:///./ico/sword.ico","webpack:///./ico/table.ico","webpack:///./ico/telephony.ico","webpack:///./ico/template_empty.ico","webpack:///./ico/tombone.ico","webpack:///./ico/tools_gear.ico","webpack:///./ico/tooth.ico","webpack:///./ico/trans.ico","webpack:///./ico/transfer.ico","webpack:///./ico/tree.ico","webpack:///./ico/trophy.ico","webpack:///./ico/true_type_paint.ico","webpack:///./ico/umbrella.ico","webpack:///./ico/usb.ico","webpack:///./ico/user_network.ico","webpack:///./ico/vlc.ico","webpack:///./ico/volleyball.ico","webpack:///./ico/whale.ico","webpack:///./ico/wia_img_color.ico","webpack:///./ico/windows.ico","webpack:///./ico/windows_button.ico","webpack:///./ico/windows_slanted.ico","webpack:///./ico/windows_update_large.ico","webpack:///./ico/windows_update_old.ico","webpack:///./ico/windows_update_small.ico","webpack:///./ico/wm.ico","webpack:///./ico/word.ico","webpack:///./ico/world.ico","webpack:///./ico/world_lock.ico","webpack:///./ico/world_phonereceiver.ico","webpack:///./ico/world_star.ico","webpack:///./ico/write_wordpad.ico","webpack:///./ico/write_yellow.ico","webpack:///./ico/xml.ico","webpack:///./ico/xml_gear.ico","webpack:///./ico/yin-yang.ico","webpack:///./js/setup.js","webpack:///./js/glsl/sky.glsl"],"names":["__wbg_set_wasm","wasm","reglBuilder","require","window","memory","fsh","vsh","startWebGL","regl","canvas","universe","isSnapshot","gl","attributes","preserveDrawingBuffer","width","height","cell_pointer","cells","light_pointer","lights","sprite_pointer","sprite","Uint8Array","buffer","dataTexture","texture","data","lightTexture","spriteTexture","drawSand","blend","enable","func","srcRGB","srcAlpha","dstRGB","dstAlpha","equation","rgb","alpha","color","frag","uniforms","t","tick","skyTime","resolution","viewportWidth","viewportHeight","dpi","vert","position","count","draw","poll","document","getElementById","this","fps","frames","lastFrameTimeStamp","performance","now","delta","push","length","shift","min","Infinity","max","sum","i","Math","mean","textContent","round","r","icos","keys","map","icoToImage","url","fetch","then","res","ok","Error","statusText","arrayBuffer","ICO","parse","err","console","log","images","images16","filter","image","sort","a","b","bpp","lastPlacedFish","eventDistance","sqrt","pow","clientX","clientY","norm","mag","magnitude","scale","s","add","sub","painting","lastPaint","repeat","tryPlaceTchotchke","event","UI","state","selectedTchotchke","setState","tchotchkes","documentElement","style","cursor","convertEventCoordinates","x","y","place_sprite","upload","smoothPaint","clearInterval","setInterval","paint","startEvent","size","speciesSizes","selectedElement","Species","Fish","GoldFish","d","addEventListener","preventDefault","push_undo","body","cancelable","Array","from","touches","handleTouches","paused","forEach","Water","Sand","Air","Algae","Daphnia","Zoop","Grass","Bacteria","boundingRect","getBoundingClientRect","scaleX","ratio","ceil","devicePixelRatio","scaleY","canvasLeft","left","canvasTop","top","floor","Date","Info","className","to","aria-label","open","href","alt","src","daphniaImg","float","transform","Menu","close","children","id","onClick","pointOnCircle","delim","PI","sin","cos","ticks","angle","stroke","key","points","Gauge","props","gauge","viewBox","dangerouslySetInnerHTML","__html","fill","strokeWidth","opacity","cx","cy","fontSize","fontWeight","alignmentBaseline","dominantBaseline","dx","dy","React","Component","skiplist","RusSpecies","Object","freeze","species","pallette_data","createElement","values","Number","isInteger","range","Universe","reset","render","ctx","getContext","readPixels","RGBA","UNSIGNED_BYTE","colors","index","pallette","OrganicButton","ElementButton","name","setElement","elementID","selected","rusText","background","backgroundColor","borderColor","Index","tutorialProgress","localStorage","getItem","submissionMenuOpen","ff","submitting","Set","dataURL","currentSubmission","setTimeout","prevProps","confirm","play","setItem","context","imgData","createImageData","putImageData","cellData","toDataURL","dataString","JSON","stringify","o2","spriteData","spriteDataString","date","getMonth","getDate","currentDateString","randomIco","random","findTchotchke","img","Image","onload","drawImage","getImageData","cellsData","parseInt","set_o2","canvas2","ctx2","img2","hash","activeSpecies","includes","classList","toggleFF","active","pathname","n","closeMenu","display","Fragment","ReactDOM","path","component","exact","WebGL","canvasId","opts","stencil","premultipliedAlpha","textures","mIs20","WebGLRenderingContext","vertexShader","mDerivatives","mShaderTextureLOD","fragmentShader","getExtension","replace","shader","linkShader","vertexAttribute","getAttribLocation","enableVertexAttribArray","innerHeight","innerWidth","setAttribute","vertexBuffer","createVBO","running","time0","stride","vertexData","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","itemSize","numItems","vertexSource","fragmentSource","program","createProgram","attachShader","compileShader","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","showLogProgram","uniformLocation","getUniformLocation","shaderType","source","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","type","showLog","getTime","compilationLog","getShaderInfoLog","getProgramInfoLog","channelNumber","createTexture","bindTexture","TEXTURE_2D","pixelStorei","UNPACK_FLIP_Y_WEBGL","texImage2D","c","concat","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","_start","timePreviousFrame","disable","DEPTH_TEST","viewport","useProgram","gameTime","time","channel","clear","DEPTH_BUFFER_BIT","vertexAttribPointer","FLOAT","activeTexture","TEXTURE0","uniform1i","uniform3f","uniform1f","drawArrays","TRIANGLE_STRIP","h","drawBowl","Glass","Wood","canvasSize","HUD","resize","screen_width","canvasStyle","HUDStyle","sky","webGL","sky_ratio","loadTexture","start","e","error","frame","total_gas","u","renderLoop","max_tick_per_frame","dayTime","set_time","animWebationId","requestAnimationFrame","load","val","heap","undefined","getObject","idx","heap_next","takeObject","ret","dropObject","cachedTextDecoder","TextDecoder","module","ignoreBOM","fatal","decode","cachedUint8Memory0","getStringFromWasm0","ptr","len","byteLength","subarray","addHeapObject","obj","Stone","Plant","FishTail","GoldFishTail","Nitrogen","Waste","Bubble","Biofilm","Plastic","UniverseFinalization","FinalizationRegistry","__wbg_cell_free","__wbg_light_free","__wbg_pixel_free","register","unregister","__wbg_universe_free","__wbg_ptr","__destroy_into_raw","universe_reset","universe_calculate_light","brightness","universe_cast_ray","universe_tick","universe_width","universe_height","universe_o2","universe_total_gas","universe_co2","universe_cells","universe_lights","universe_sprite","xi","yi","typebuf","universe_place_sprite","universe_paint","universe_push_undo","universe_pop_undo","universe_flush_undos","universe_set_time","v","universe_set_o2","universe_inc_time","create","prototype","universe_new","__wrap","__wbindgen_object_drop_ref","arg0","__wbg_buffer_12d079cc21e14bdb","__wbg_new_63b92bc8671ed464","__wbg_set_a47bac70306a19a7","arg1","arg2","set","__wbg_length_c20a40f15020d68a","what","__wbg_random_26e2d782b541ca6b","__wbindgen_throw","__wbindgen_memory","exports","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","resolve","timeout","handleActivity","clearTimeout","remove"],"mappings":"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AAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,6B,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,6B,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,6B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,kC,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,6B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,iC,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,0B,gBCA3CzE,EAAOyE,QAAU,IAA0B,kC,gBCA3CzE,EAAOyE,QAAU,IAA0B,qC,gBCA3CzE,EAAOyE,QAAU,IAA0B,+B,gBCA3CzE,EAAOyE,QAAU,IAA0B,2C,gBCA3CzE,EAAOyE,QAAU,IAA0B,4C,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,oC,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,iC,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,0B,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,0B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iC,gBCA3CzE,EAAOyE,QAAU,IAA0B,mC,gBCA3CzE,EAAOyE,QAAU,IAA0B,kC,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,iC,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oC,gBCA3CzE,EAAOyE,QAAU,IAA0B,oC,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iC,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,+B,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,0C,gBCA3CzE,EAAOyE,QAAU,IAA0B,kC,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,6B,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,0B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iC,gBCA3CzE,EAAOyE,QAAU,IAA0B,6B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,kC,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,sC,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,+B,gBCA3CzE,EAAOyE,QAAU,IAA0B,iC,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,oC,gBCA3CzE,EAAOyE,QAAU,IAA0B,6B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,+B,gBCA3CzE,EAAOyE,QAAU,IAA0B,6B,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,uB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,0B,gBCA3CzE,EAAOyE,QAAU,IAA0B,4B,gBCA3CzE,EAAOyE,QAAU,IAA0B,mC,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,qC,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,qB,gBCA3CzE,EAAOyE,QAAU,IAA0B,0B,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,kB,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,mB,gBCA3CzE,EAAOyE,QAAU,IAA0B,0B,gBCA3CzE,EAAOyE,QAAU,IAA0B,2B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,8B,gBCA3CzE,EAAOyE,QAAU,IAA0B,gC,gBCA3CzE,EAAOyE,QAAU,IAA0B,c,gBCA3CzE,EAAOyE,QAAU,IAA0B,gB,gBCA3CzE,EAAOyE,QAAU,IAA0B,iB,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,+B,gBCA3CzE,EAAOyE,QAAU,IAA0B,sB,gBCA3CzE,EAAOyE,QAAU,IAA0B,yB,gBCA3CzE,EAAOyE,QAAU,IAA0B,wB,gBCA3CzE,EAAOyE,QAAU,IAA0B,e,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,gBCA3CzE,EAAOyE,QAAU,IAA0B,oB,2BCO3C,IAAI7Q,EAAapM,SAASC,eAAe,cAErCwd,EAAU9gB,OAAOsQ,YAAW,WAC1BtQ,OAAOsH,GAAGC,MAAMsI,iBAAmB,GACrCxM,SAAS6F,KAAK0J,UAAU7L,IAAI,WAHf,KAObga,EAAiB,SAAAzG,GACnBta,OAAOghB,aAAaF,GACpBzd,SAAS6F,KAAK0J,UAAUqO,OAAO,SAC/BH,EAAU9gB,OAAOsQ,YAAW,WACtBtQ,OAAOsH,GAAGC,MAAMsI,iBAAmB,GACrCxM,SAAS6F,KAAK0J,UAAU7L,IAAI,WAZjB,MAgBjB1D,SAAS6F,KAAKH,iBAAiB,YAAagY,GAC5C1d,SAAS6F,KAAKH,iBAAiB,aAAcgY,GAE7CtR,EAAW1G,iBAAiB,aAAa,SAAAuR,GAClCta,OAAOwJ,QACN8Q,EAAEnR,YACJmR,EAAEtR,qB,cC9BR6S,EAAOyE,QAAU","file":"1.f6941adde4017db5eae1.js","sourcesContent":["import * as wasm from \"./sandtable_bg.wasm\";\nimport { __wbg_set_wasm } from \"./sandtable_bg.js\";\n__wbg_set_wasm(wasm);\nexport * from \"./sandtable_bg.js\";\n","const reglBuilder = require(\"regl\");\nconst GIF = require(\"gif.js\");\n// const GIF = require(\"gl-gif\");\nimport { memory } from \"../crate/pkg/sandtable_bg\";\nwindow.memory = memory;\nimport { Species } from \"../crate/pkg/sandtable\";\nimport { Universe } from \"../crate/pkg\";\nimport { finished } from \"stream\";\n\nlet fsh = require(\"./glsl/sand.glsl\");\nlet vsh = require(\"./glsl/sandVertex.glsl\");\n\nlet startWebGL = ({ canvas, universe, isSnapshot = false, gl }) => {\n  let regl;\n  if (gl) {\n    regl = reglBuilder({\n      gl,\n      attributes: { preserveDrawingBuffer: isSnapshot }\n    });\n  } else {\n    regl = reglBuilder({\n      canvas,\n      attributes: { preserveDrawingBuffer: isSnapshot }\n    });\n  }\n  // const lastFrame = regl.texture();\n  const width = universe.width();\n  const height = universe.height();\n  let cell_pointer = universe.cells();\n  let light_pointer = universe.lights();\n  let sprite_pointer = universe.sprite();\n  let cells = new Uint8Array(memory.buffer, cell_pointer, width * height * 4);\n  let lights = new Uint8Array(memory.buffer, light_pointer, width * height * 4);\n  let sprite = new Uint8Array(\n    memory.buffer,\n    sprite_pointer,\n    width * height * 4\n  );\n  const dataTexture = regl.texture({ width, height, data: cells });\n  const lightTexture = regl.texture({ width, height, data: lights });\n  const spriteTexture = regl.texture({ width, height, data: sprite });\n\n  let drawSand = regl({\n    blend: {\n      enable: true,\n      func: {\n        srcRGB: \"src alpha\",\n        srcAlpha: 1,\n        dstRGB: \"one minus src alpha\",\n        dstAlpha: 1\n      },\n      equation: {\n        rgb: \"add\",\n        alpha: \"add\"\n      },\n      color: [0, 0, 0, 0]\n    },\n    frag: fsh,\n    uniforms: {\n      t: ({ tick }) => tick,\n      skyTime: () => window.skyTime || 0,\n      dataTexture: () => {\n        cell_pointer = universe.cells();\n        cells = new Uint8Array(memory.buffer, cell_pointer, width * height * 4);\n        return dataTexture({ width, height, data: cells });\n      },\n      lightTexture: () => {\n        light_pointer = universe.lights();\n\n        lights = new Uint8Array(\n          memory.buffer,\n          light_pointer,\n          width * height * 4\n        );\n\n        return lightTexture({ width, height, data: lights });\n      },\n      spriteTexture: () => {\n        sprite_pointer = universe.sprite();\n\n        sprite = new Uint8Array(\n          memory.buffer,\n          sprite_pointer,\n          width * height * 4\n        );\n\n        return spriteTexture({ width, height, data: sprite });\n      },\n      resolution: ({ viewportWidth, viewportHeight }) => [\n        viewportWidth,\n        viewportHeight\n      ],\n      dpi: 4,\n      isSnapshot\n      // backBuffer: lastFrame\n    },\n\n    vert: vsh,\n    attributes: {\n      // Full screen triangle\n      position: [\n        [-1, 4],\n        [-1, -1],\n        [4, -1]\n      ]\n    },\n    // Our triangle has 3 vertices\n    count: 3\n  });\n\n  return {\n    regl,\n    draw: () => {\n      regl.poll();\n      drawSand();\n    }\n  };\n};\n\nlet snapshot = universe => {\n  let canvas = document.createElement(\"canvas\");\n  canvas.width = universe.width() / 2;\n  canvas.height = universe.height() / 2;\n  let render = startWebGL({ universe, canvas, isSnapshot: true });\n  render();\n\n  return canvas.toDataURL(\"image/png\");\n};\n\nlet exportGif = (universe, cb) => {\n  window.paused = true;\n\n  let canvas = document.createElement(\"canvas\");\n  canvas.width = universe.width() * 2;\n  canvas.height = universe.height() * 2;\n  let w = canvas.width;\n  let h = canvas.height;\n  // let gl = canvas.getContext(\"webgl\");\n\n  var gif = new GIF({\n    workers: 2,\n    quality: 10,\n    width: canvas.width,\n    height: canvas.height,\n    transparent: \"rgba(0,0,0,0)\"\n  });\n  let frames = [];\n\n  const tmpc = document.createElement(\"canvas\");\n  tmpc.width = w;\n  tmpc.height = h;\n  const tctx = tmpc.getContext(\"2d\");\n\n  frames = [];\n  let frameSize = { width: canvas.width, height: canvas.height };\n\n  const numFrames = 20;\n  let t = window.t;\n  for (var i = 0; i < numFrames; i++) {\n    universe.set_time((t / 50) % 255);\n    t += 5;\n    universe.tick();\n    canvas = document.createElement(\"canvas\");\n    canvas.width = universe.width() * 2;\n    canvas.height = universe.height() * 2;\n    let w = canvas.width;\n    let h = canvas.height;\n    let { regl, draw } = startWebGL({ universe, canvas, isSnapshot: false });\n\n    draw();\n    console.log(\"adding frame \" + i);\n    // gif.addFrame(gl, { copy: false });\n\n    // this is faster but the y-axis gets flipped\n    // let data = new ImageData(w, h);\n    // let pixels = new Uint8Array(data.data.buffer);\n    // regl.read(pixels);\n\n    // gl.readPixels(0, 0, w, h, gl.RGBA, gl.UNSIGNED_BYTE, pixels)\n\n    // var bytes = new Uint8Array(100)\n    // regl.read(bytes)\n\n    tctx.clearRect(0, 0, w, h);\n\n    tctx.drawImage(canvas, 0, 0);\n    const data = tctx.getImageData(0, 0, w, h);\n    frames.push(data);\n\n    // // don't lock up the ui\n    // if (i % 4 == 0) {\n    //     await nextTick()\n    // }\n  }\n  // console.log(frames);\n  //boomerang\n  frames = [...frames, ...frames.slice(0).reverse()];\n  for (const frame of frames) {\n    gif.addFrame(frame, { delay: 16 });\n  }\n\n  gif.on(\"finished\", function(blob) {\n    // window.open(URL.createObjectURL(blob));\n    cb(URL.createObjectURL(blob));\n  });\n  gif.render();\n  // const renderFrame = (n = 0) => {\n  //   console.log(n);\n\n  //   if (n == 20) {\n  //     console.log(\"finished!\");\n  //     gif.on(\"finished\", function(blob) {\n  //       window.open(URL.createObjectURL(blob));\n  //     });\n  //     gif.render();\n  //   } else {\n\n  //     renderFrame(n + 1);\n  //   }\n  // };\n  // renderFrame();\n  window.paused = false;\n};\n\nlet pallette = () => {\n  let canvas = document.createElement(\"canvas\");\n\n  let species = Object.values(Species).filter(x => Number.isInteger(x));\n  let range = Math.max(...species) + 1;\n  let universe = Universe.new(range, 1);\n  canvas.width = range;\n  canvas.height = 3;\n  universe.reset();\n\n  species.forEach(id => universe.paint(id, 0, 2, id));\n  universe.paint(species.Air, 0, 2, species.Air);\n  let render = startWebGL({ universe, canvas, isSnapshot: true }).draw;\n  render();\n  let ctx = canvas.getContext(\"webgl\");\n  let data = new Uint8Array(range * 4);\n  ctx.readPixels(0, 0, range, 1, ctx.RGBA, ctx.UNSIGNED_BYTE, data);\n  let colors = {};\n  species.forEach(id => {\n    let index = id * 4;\n    let color = `rgba(${data[index]},${data[index + 1]}, ${\n      data[index + 2]\n    }, 1.0)`;\n    colors[id] = color;\n  });\n  return colors;\n};\n\nexport { startWebGL, snapshot, pallette, exportGif };\n","const reglBuilder = require(\"regl\");\n// import { memory } from \"../crate/pkg/sandtable_bg\";\n// window.memory = memory;\n// import { Species } from \"././crate/pkg/sandtable\";\n// import { Universe } from \"../crate/pkg\";\n\nlet fsh = require(\"./glsl/plot.glsl\");\nlet vsh = require(\"./glsl/sandVertex.glsl\");\nlet label = document.getElementById(\"plot-label\");\n\nlet readingsIndex = 0;\nlet n_readings = 0;\nlet max_readings = 60 * 3;\nlet readings = new Uint8Array(max_readings);\nlet throttle = 0;\nlet startPlotter = ({ canvas, universe }) => {\n  const regl = reglBuilder({\n    canvas\n  });\n  const width = max_readings / 4;\n  const height = 1;\n\n  const dataTexture = regl.texture({\n    width,\n    height,\n    data: readings\n  });\n  let recordDataPoint = () => {\n    if (throttle++ != 0) {\n      throttle = throttle % (20 * 4);\n      return;\n    }\n    readings[readingsIndex] = (255 * universe.o2()) / universe.total_gas();\n    readingsIndex = (readingsIndex + 1) % max_readings;\n    n_readings = Math.max(readingsIndex, n_readings);\n    let p = (n_readings * 100) / max_readings;\n    // canvas.style = `transform: translateX(${p - 100}%)`;\n    // label.style = `transform: translateX(${p - 100}%)`;\n  };\n  let drawPlot = regl({\n    blend: {\n      enable: true,\n      func: {\n        srcRGB: \"src alpha\",\n        srcAlpha: 1,\n        dstRGB: \"one minus src alpha\",\n        dstAlpha: 1\n      },\n      equation: {\n        rgb: \"add\",\n        alpha: \"add\"\n      },\n      color: [0, 0, 0, 0]\n    },\n    frag: fsh,\n    uniforms: {\n      t: ({ tick }) => tick,\n      i: () => readingsIndex,\n      n_readings: () => n_readings,\n      max_readings,\n      data: () => {\n        // console.log(readings);\n        return dataTexture({\n          width,\n          height,\n          data: readings\n        });\n      },\n\n      resolution: ({ viewportWidth, viewportHeight }) => [\n        viewportWidth,\n        viewportHeight\n      ],\n      dpi: 4\n    },\n\n    vert: vsh,\n    attributes: {\n      // Full screen triangle\n      position: [[-1, 4], [-1, -1], [4, -1]]\n    },\n    // Our triangle has 3 vertices\n    count: 3\n  });\n\n  return {\n    drawPlot: () => {\n      regl.poll();\n      drawPlot();\n    },\n    recordDataPoint\n  };\n};\n\nexport { startPlotter };\n","const fps = new (class {\n  constructor() {\n    this.fps = document.getElementById(\"fps\");\n    this.frames = [];\n    this.lastFrameTimeStamp = performance.now();\n  }\n\n  render() {\n    // Convert the delta time since the last frame render into a measure\n    // of frames per second.\n    const now = performance.now();\n    const delta = now - this.lastFrameTimeStamp;\n    this.lastFrameTimeStamp = now;\n    const fps = (1 / delta) * 1000;\n\n    // Save only the latest 100 timings.\n    this.frames.push(fps);\n    if (this.frames.length > 30) {\n      this.frames.shift();\n    }\n\n    // Find the max, min, and mean of our 100 latest timings.\n    let min = Infinity;\n    let max = -Infinity;\n    let sum = 0;\n    for (let i = 0; i < this.frames.length; i++) {\n      sum += this.frames[i];\n      min = Math.min(this.frames[i], min);\n      max = Math.max(this.frames[i], max);\n    }\n    let mean = sum / this.frames.length;\n\n    // Render the statistics.\n    this.fps.textContent = `FPS:${Math.round(mean)}`;\n    // O2: ${window.u.O2() / 1000}\n    // CO2: ${window.u.CO2() / 1000}`;\n  }\n})();\n\nexport { fps };\n","import ICO from \"icojs/browser\";\n\nfunction importAll(r) {\n  return r.keys().map(r);\n}\nconst icos = importAll(require.context(\"../ico\", false, /\\.(ico)$/));\nfunction randomIco() {\n  let i = Math.random() * icos.length;\n  let url = icos[i | 0];\n  return icoToImage(url).then(image => image || randomIco());\n}\n// console.log(icos);\n// let images = [];\nconst icoToImage = url =>\n  fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw Error(res.statusText);\n      }\n      return res.arrayBuffer();\n    }) // Gets the response and returns it as a blob\n    // Gets the response and returns it as a blob\n    .then(function(buffer) {\n      return ICO.parse(buffer).catch(err => {\n        console.log(err + url);\n      });\n    })\n    .then(function(images) {\n      // console.log(images);\n      let images16 = images.filter(({ height }) => height == 16);\n      images16 = images16.sort((a, b) => b.bpp - a.bpp);\n      // console.log(images16);\n\n      let image = images16[0];\n      if (!image) return false;\n      // console.dir(image);\n      image.url = url;\n      return image;\n    });\n\nfunction getTchotchkes() {\n  return Promise.all(icos.map(icoToImage)).then(function(values) {\n    // console.log(values);\n    return values;\n  });\n}\n// getTchotchkes().then(v => {\n//   v.filter(i => i);\n// });\n\nexport { getTchotchkes, icos, icoToImage, randomIco };\n","import { height, universe, width, ratio } from \"./index.js\";\nimport { icoToImage } from \"./tchotchkes\";\n\nimport { Species } from \"../crate/pkg\";\n\nconst canvas = document.getElementById(\"sand-canvas\");\nlet lastPlacedFish = 0;\nfunction canPlaceFish() {\n  let diff = Date.now() - lastPlacedFish;\n  if (diff > 1000) {\n    lastPlacedFish = Date.now();\n    return true;\n  } else {\n    return false;\n  }\n}\nconst eventDistance = (a, b) => {\n  return Math.sqrt(\n    Math.pow(a.clientX - b.clientX, 2) + Math.pow(a.clientY - b.clientY, 2),\n    2\n  );\n};\n\nconst magnitude = a => {\n  return Math.sqrt(Math.pow(a.clientX, 2) + Math.pow(a.clientY, 2), 2);\n};\n\nconst norm = a => {\n  let mag = magnitude(a);\n  return { clientX: a.clientX / mag, clientY: a.clientY / mag };\n};\nconst scale = (a, s) => {\n  return { clientX: a.clientX * s, clientY: a.clientY * s };\n};\nconst add = (a, b) => {\n  return { clientX: a.clientX + b.clientX, clientY: a.clientY + b.clientY };\n};\nconst sub = (a, b) => {\n  return { clientX: a.clientX - b.clientX, clientY: a.clientY - b.clientY };\n};\n\nlet painting = false;\nlet lastPaint = null;\nlet repeat = null;\nfunction tryPlaceTchotchke(event) {\n  let url = window.UI.state.selectedTchotchke;\n  if (url) {\n    window.UI.setState(({ tchotchkes }) => {\n      tchotchkes.delete(url);\n      document.documentElement.style.cursor = `default`;\n      return { tchotchkes, selectedTchotchke: null };\n    });\n    const [x, y] = convertEventCoordinates(event);\n\n    icoToImage(url).then(image => {\n      universe.place_sprite(x - 8, y - 8, image.data);\n      window.UI.upload();\n    });\n    return true;\n  } else return false;\n}\ncanvas.addEventListener(\"mousedown\", event => {\n  event.preventDefault();\n  if (tryPlaceTchotchke(event)) {\n    return;\n  }\n  universe.push_undo();\n\n  painting = true;\n  clearInterval(repeat);\n  repeat = window.setInterval(() => paint(event), 100);\n  paint(event);\n  lastPaint = event;\n});\n\ndocument.body.addEventListener(\"mouseup\", event => {\n  clearInterval(repeat);\n  if (painting) {\n    event.preventDefault();\n    lastPaint = null;\n    painting = false;\n  }\n});\n\ncanvas.addEventListener(\"mousemove\", event => {\n  clearInterval(repeat);\n  smoothPaint(event);\n});\n\ncanvas.addEventListener(\"mouseleave\", event => {\n  clearInterval(repeat);\n  lastPaint = null;\n});\n\ncanvas.addEventListener(\"touchstart\", event => {\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n  let touches = Array.from(event.touches);\n  if (tryPlaceTchotchke(touches[0])) {\n    return;\n  }\n  universe.push_undo();\n\n  painting = true;\n  lastPaint = event;\n  handleTouches(event);\n});\n\ncanvas.addEventListener(\"touchend\", event => {\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n  lastPaint = null;\n  painting = false;\n  clearInterval(repeat);\n});\n\ncanvas.addEventListener(\"touchmove\", event => {\n  if (!window.paused) {\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  clearInterval(repeat);\n  handleTouches(event);\n});\n\nfunction smoothPaint(event) {\n  clearInterval(repeat);\n  repeat = window.setInterval(() => paint(event), 100);\n  let startEvent = { clientX: event.clientX, clientY: event.clientY };\n  if (!painting) {\n    return;\n  }\n  let size = speciesSizes[window.UI.state.selectedElement] || 2;\n\n  let i = 0;\n  paint(startEvent);\n  if (\n    lastPaint &&\n    window.UI.state.selectedElement != Species.Fish &&\n    window.UI.state.selectedElement != Species.GoldFish\n  ) {\n    while (eventDistance(startEvent, lastPaint) > size / 3) {\n      let d = eventDistance(startEvent, lastPaint);\n      startEvent = add(\n        startEvent,\n        scale(norm(sub(lastPaint, event)), Math.min(size / 3, d))\n      );\n      i++;\n      if (i > 1000) {\n        break;\n      }\n      paint(startEvent);\n    }\n  }\n  lastPaint = event;\n}\n\nconst handleTouches = event => {\n  let touches = Array.from(event.touches);\n  if (touches.length == 1) {\n    smoothPaint(touches[0]);\n  } else {\n    touches.forEach(paint);\n  }\n};\n\nlet speciesSizes = {\n  [Species.Water]: 13,\n  [Species.Sand]: 8,\n  [Species.Air]: 7,\n\n  [Species.Algae]: 2,\n  [Species.Fish]: 2,\n  [Species.GoldFish]: 2,\n  [Species.Daphnia]: 2,\n  [Species.Zoop]: 2,\n  [Species.Grass]: 2,\n  [Species.Bacteria]: 2\n};\nfunction convertEventCoordinates(event) {\n  const boundingRect = canvas.getBoundingClientRect();\n\n  const scaleX =\n    canvas.width /\n    (ratio * Math.ceil(window.devicePixelRatio)) /\n    boundingRect.width;\n  const scaleY =\n    canvas.height /\n    (ratio * Math.ceil(window.devicePixelRatio)) /\n    boundingRect.height;\n\n  const canvasLeft = (event.clientX - boundingRect.left) * scaleX;\n  const canvasTop = (event.clientY - boundingRect.top) * scaleY;\n\n  const x = Math.min(Math.floor(canvasLeft), width - 1);\n  const y = Math.min(Math.floor(canvasTop), height - 1);\n  return [x, y];\n}\nconst paint = event => {\n  if (!painting) {\n    return;\n  }\n  if (\n    window.UI.state.selectedElement == Species.Fish ||\n    window.UI.state.selectedElement == Species.GoldFish\n  ) {\n    if (!canPlaceFish()) {\n      return;\n    }\n  }\n  const [x, y] = convertEventCoordinates(event);\n  if (window.UI.state.selectedElement < 0) return;\n\n  let size = speciesSizes[window.UI.state.selectedElement] || 3;\n  universe.paint(x, y, size, window.UI.state.selectedElement);\n};\n","import React from \"react\";\nimport daphniaImg from \"../../assets/daphniaAlpha.gif\";\n\nimport bubblebig from \"../../assets/bubblebig.png\";\nimport bubblemed from \"../../assets/bubblemed.png\";\nimport bubblesmall from \"../../assets/bubblesmall.png\";\nimport { Link } from \"react-router-dom\";\n\nconst Info = () => {\n  return (\n    <div className=\"welcome-scrim\">\n      <div className=\"Info window\">\n        <div className=\"title-bar\">\n          <div className=\"title-bar-text\">Информация</div>\n          <div className=\"title-bar-controls\">\n            <Link to=\"/\">\n              <button aria-label=\"Minimize\"></button>\n            </Link>\n            <button aria-label=\"Maximize\"></button>\n            <Link to=\"/\">\n              <button aria-label=\"Close\"> </button>\n            </Link>\n          </div>\n        </div>\n        <div className=\"window-body \">\n          {/* <li>A sealed ecosystem simulation </li> */}\n\n          <ul className=\"tree-view info-body\">\n            <li>\n              <h4> Добро пожаловать на ЭкоФерму!</h4>\n              <ul>\n                <li>\n                  {\" \"}\n                  Это виртуальная экосистема, в которой различные виды существ могут жить,\n                  развиваться и умирать,\n                  являясь частью автономной пищевой цепи.\n                </li>\n                <li>\n                  Здесь ты можешь:\n                  <ul>\n                    <li>Экспериментировать с элементами экосистемы</li>\n                    <li>Наблюдать за изменениями в ускоренном режиме</li>\n                  </ul>\n                </li>\n                <li>\n                  <details>\n                    <summary>Элементы</summary>\n                    <ul>\n                      <li>\n                        <details>\n                          <summary>Неактивные вещества</summary>\n\n                          <ul>\n                            <li>\n                              <summary>Стереть:</summary>\n\n                              <ul>\n                                <li>Используется для того, чтобы что-то стереть.</li>\n                              </ul>\n                            </li>\n                            <li>\n                              <summary>Стекло:</summary>\n\n                              <ul>\n                                <li>Пропускает свет, не взаимодействует с живыми организмами.</li>\n                              </ul>\n                            </li>\n                            <li>\n                              <summary>Песок:</summary>\n\n                              <ul>\n                                <li>\n                                  Важный источник питательных веществ для растений. Здесь обычно растет трава.\n                                </li>\n                              </ul>\n                            </li>\n                            <li>\n                              <summary>Камень:</summary>\n\n                              <ul>\n                                <li>Рисуй арки и строй замки. Разнообразь свой аквариум!</li>\n                              </ul>\n                            </li>\n                            <li>\n                              <summary>Дерево:</summary>\n\n                              <ul>\n                                <li>\n                                  Коряги придают красивое оформление твоему резервуару. Кстати, они не пропускают свет и в них могут прятаться рыбки.\n                                </li>\n                              </ul>\n                            </li>\n                            <li>\n                              <summary>Вода:</summary>\n\n                              <ul>\n                                <li>\n                                  Тут все и так понятно.\n                                </li>\n                              </ul>\n                            </li>\n                          </ul>\n                        </details>\n                      </li>\n                      <li>\n                        <details>\n                          <summary>Автотрофы</summary>\n                          <ul>\n                            <li>\n                              <summary>Водоросли:</summary>\n\n                              <ul>\n                                <li>\n                                  производят питательные вещества и кислород путем фотосинтеза солнечного света и углекислого газа.\n                                </li>\n                              </ul>\n                            </li>\n\n                            <li>\n                              <summary>Трава:</summary>\n\n                              <ul>\n                                <li>\n                                  Из нее получится отличный источник еды и кислорода, которая необходимо обитателям экосистемы. Но для роста ей необходим азот, который можно получить из песка!\n                                </li>\n                              </ul>\n                            </li>\n                          </ul>\n                        </details>\n                      </li>\n                      <li>\n                        <details>\n                          <summary>Травоядные</summary>\n\n                          <ul>\n                            <li>\n                              <summary>Дафнии:</summary>\n\n                              <ul>\n                                <li>\n                                  Эти пресноводные зоопланктоны являются ключевым видом в экосистеме. Они питаются водорослями и откладывают яйца, которые могут долгое время находиться в спящем состоянии. Более активны ночью.\n                                </li>\n                              </ul>\n                            </li>\n                          </ul>\n                        </details>\n                      </li>\n                      <li>\n                        <details>\n                          <summary>Плотоядные</summary>\n\n                          <ul>\n                            <li>\n                              <summary>Рыбки:</summary>\n\n                              <ul>\n                                <li>\n                                  Они питаются в основном дафниями, но могут питаться и биопленкой с растений. Никто не знает, о чем они думают.\n                                </li>\n\n                                <li>\n                                  <summary>Золотые рыбки:</summary>\n\n                                  <ul>\n                                    <li>\n                                      Преданные, но глупенькие. Дышат кислородом)\n                                    </li>\n                                  </ul>\n                                </li>\n                              </ul>\n                            </li>\n                          </ul>\n                        </details>\n                      </li>\n                      <li>\n                        <details>\n                          <summary>Редуценты</summary>\n\n                          <ul>\n                            <li>\n                              <li>Бактерии:</li>\n\n                              <ul>\n                                <li>\n                                  Редуценты – очень важная часть функционирующей экосистемы, они аэробно расщепляют отходы и превращают в азот. А когда счастливы – пускают пузыри.\n                                </li>\n                              </ul>\n                            </li>\n                          </ul>\n                        </details>\n                      </li>\n                    </ul>\n                  </details>\n                </li>\n\n                <li>\n                  <details open>\n                    <summary>О нас</summary>\n                    <ul>\n                      <li>\n                        разработано в {\" \"}\n                        <a href=\"https://green.bmstu.ru/zelenyy-dom\">Зеленом доме</a>\n                      </li>\n                    </ul>\n                  </details>\n                </li>\n              </ul>\n            </li>\n          </ul>\n          <img alt=\"Daphnia\" src={daphniaImg} style={{ height: \"150px\" }}></img>\n\n          <img\n            alt=\"Daphnia\"\n            src={daphniaImg}\n            style={{ height: \"150px\", float: \"right\", transform: \"scaleX(-1)\" }}\n          ></img>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Info;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Menu = ({ close, children }) => {\n  return (\n    <div className=\"welcome-scrim\">\n      <div id={\"welcome\"}>\n        {children}\n        <Link to=\"/\" className=\"x\" onClick={close}>\n          <button> x</button>\n        </Link>\n      </div>\n    </div>\n  );\n};\nexport default Menu;\n","import React from \"react\";\n\nfunction pointOnCircle(d, r, delim = \" \") {\n  let a = (d * Math.PI) / 180;\n  return `${Math.sin(a) * r}${delim}${Math.cos(a) * r} `;\n}\n\nlet tickAngles = [...Array(60).keys()].map(a => (a / 60) * 360);\n\nlet ticks = tickAngles.map((angle, i) => {\n  if (angle < 45 || angle > 360 - 45) {\n    return null;\n  }\n  let r = i % 5 == 0 ? 5 : 3;\n\n  return (\n    <polyline\n      stroke=\"black\"\n      key={i}\n      points={`${pointOnCircle(angle, 40 + r, \",\")}\n${pointOnCircle(angle, 40, \",\")}\n  `}\n    ></polyline>\n  );\n});\nclass Gauge extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      angle: 80\n    };\n    window.gauge = this;\n  }\n\n  render() {\n    let angle = this.state.angle;\n    return (\n      <svg viewBox=\"-47 -47 94 94\" className=\"gauge\">\n        <style\n          dangerouslySetInnerHTML={{\n            __html:\n              \"\\n          .small {\\n            font: normal 5px serif !important;\\n          }\\n        \"\n          }}\n        />\n        <path\n          className=\"dial\"\n          fill=\"none\"\n          stroke=\"black\"\n          strokeWidth={1}\n          d=\"M -28.28 28.28\n          A 40 40, 0, 1, 1, 28.28 28.28\n          \"\n        />\n        <path\n          className=\"dial\"\n          fill=\"red\"\n          opacity=\"0.5\"\n          strokeWidth={1}\n          d={`M ${pointOnCircle(-45, 40)}\n        A 40 40, 0, 0, 1, ${pointOnCircle(260, 40)}\n        L 0,0\n        Z\n        `}\n        ></path>\n        <path\n          className=\"dial\"\n          fill=\"red\"\n          opacity=\"0.5\"\n          strokeWidth={1}\n          d={`M ${pointOnCircle(45, 40)}\n      A 40 40, 0, 0, 0, ${pointOnCircle(100, 40)}\n      L 0,0\n      Z\n      `}\n        ></path>\n        <path\n          className=\"dial\"\n          fill=\"green\"\n          opacity=\"0.3\"\n          strokeWidth={1}\n          d={`M ${pointOnCircle(260, 40)}\n  A 40 40, 0, 0, 1, ${pointOnCircle(100, 40)}\n  L 0,0\n  Z\n  `}\n        />\n\n        <g className=\"dial\">\n          <circle cx={0} cy={0} r={30} fill=\"rgb(192, 192, 192)\" />\n          <circle cx={0} cy={0} r={5} fill=\"brass\" />\n          <polygon\n            style={{ transform: `rotate(${angle}deg)` }}\n            stroke=\"black\"\n            points={`${pointOnCircle(0, 45, \",\")}\n${pointOnCircle(4, -25, \",\")}\n${pointOnCircle(-4, -25, \",\")}\n          `}\n          />\n        </g>\n\n        {ticks}\n        <g className=\"text-container\">\n          <text\n            x={-24}\n            y={30}\n            fill=\"black\"\n            className=\"value-text\"\n            fontSize=\"100%\"\n            fontWeight=\"normal\"\n            alignmentBaseline=\"middle\"\n            dominantBaseline=\"central\"\n          >\n            CO\n          </text>\n          <text x={-24} y={30} dx={16} dy={7} fontSize=\"80%\">\n            2\n          </text>\n          <text\n            x={13}\n            y={30}\n            fill=\"black\"\n            fontSize=\"100%\"\n            fontWeight=\"normal\"\n            alignmentBaseline=\"middle\"\n            dominantBaseline=\"central\"\n          >\n            O\n          </text>\n          <text x={13} y={30} dx={9} dy={7} fontSize=\"80%\">\n            2\n          </text>\n        </g>\n      </svg>\n    );\n  }\n}\n\nexport { Gauge };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { memory } from \"../../crate/pkg/sandtable_bg\";\nimport { Species } from \"../../crate/pkg/sandtable\";\n\nimport { height, universe, width, reset } from \"../index.js\";\nimport { exportGif, pallette } from \"../render.js\";\nimport Menu from \"./menu.js\";\nimport { icos, randomIco } from \"../tchotchkes\";\nimport daphniaImg from \"../../assets/daphniaAlpha.gif\";\nimport bubblebig from \"../../assets/bubblebig.png\";\nimport bubblemed from \"../../assets/bubblemed.png\";\nimport bubblesmall from \"../../assets/bubblesmall.png\";\nimport { Gauge } from \"../gauge\";\n\nlet skiplist = [\"FishTail\", \"Biofilm\", \"GoldFishTail\"];\nskiplist.push(\"Waste\");\nskiplist.push(\"Bubble\");\nskiplist.push(\"Plant\");\nskiplist.push(\"Zoop\");\nskiplist.push(\"Nitrogen\");\nskiplist.push(\"Plastic\");\n// skiplist.push(\"GoldFish\");\n\nconst RusSpecies = Object.freeze({\n  \"Glass\": \"Стекло\",\n  \"Sand\": \"Песок\",\n  \"Stone\": \"Камень\",\n  \"Wood\": \"Дерево\",\n  \"Water\": \"Вода\",\n  \"Algae\": \"Водоросли\",\n  \"Daphnia\": \"Дафнии\",\n  \"Grass\": \"Трава\",\n  \"Bacteria\": \"Бактерии\",\n  \"Fish\": \"Рыбки\",\n  \"GoldFish\": \"Золотые Рыбки\"\n});\n\nwindow.species = Species;\nlet pallette_data = pallette();\n\nconst OrganicButton = ({ onClick, className, style, children }) => {\n  return (\n    <button\n      onClick={onClick}\n      className={className}\n      style={{\n        ...style\n      }}\n    >\n      {children}\n    </button>\n  );\n};\nconst ElementButton = (name, selectedElement, setElement) => {\n  let elementID = Species[name];\n\n  let color = pallette_data[elementID];\n  if (elementID == Species.Daphnia) {\n    color = pallette_data[Species.Zoop];\n  }\n  let selected = elementID == selectedElement;\n\n  let background = \"inherit\";\n\n  let text = name;\n  let rusText = RusSpecies[name]\n  if (name == \"Air\") {\n    text = \"Clear\";\n    rusText = \"Стереть\"\n  }\n  return (\n    <button\n      className={selected ? `selected ${name}` : name}\n      key={name}\n      onClick={() => {\n        setElement(elementID);\n      }}\n      style={{\n        background,\n        backgroundColor: color,\n        borderColor: color,\n        color: name == \"Air\" ? \"black\" : \"white\",\n        filter: selected || `saturate(0.4) `\n      }}\n    >\n      {\"  \"}\n      {rusText}\n      {\"  \"}\n    </button>\n  );\n};\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    let tutorialProgress = localStorage.getItem(\"tutorialProgress\") || 0;\n    // tutorialProgress = 0;\n    // console.log(tutorialDone);\n    this.state = {\n      submissionMenuOpen: false,\n      paused: false,\n      ff: false,\n      submitting: false,\n      size: 1,\n      tchotchkes: new Set(),\n      dataURL: null,\n      currentSubmission: null,\n      selectedElement: Species.Sand,\n      tutorialProgress\n    };\n    window.UI = this;\n    // this.load();\n    // if (!tutorialDone) {\n    window.setTimeout(() => {\n      // localStorage.setItem(\"tutorialDone\", true);\n      // this.setState({ tutorial: false });\n    }, 1000 * 10);\n    // }\n  }\n\n  componentDidUpdate(prevProps) {}\n  togglePause() {\n    window.paused = !this.state.paused;\n    this.setState({ paused: !this.state.paused });\n  }\n  toggleFF() {\n    window.ff = !this.state.ff;\n    this.setState({ ff: !this.state.ff });\n  }\n  play() {\n    window.paused = false;\n    this.setState({ paused: false });\n  }\n  pause() {\n    window.paused = true;\n    this.setState({ paused: true });\n  }\n\n  setSize(event, size) {\n    event.preventDefault();\n    this.setState({\n      size\n    });\n  }\n  reset() {\n    if (window.confirm(\"Сбросить экосистему?\")) {\n      this.play();\n      this.setState({ currentSubmission: null });\n      localStorage.setItem(\"last_tchotchke\", null);\n\n      reset();\n    }\n  }\n\n  closeMenu() {\n    this.play();\n    this.setState({ dataURL: null });\n  }\n  upload() {\n    console.log(\"saving\");\n    // let dataURL = snapshot(universe);\n    const cells = new Uint8Array(\n      memory.buffer,\n      universe.cells(),\n      width * height * 4\n    );\n\n    // Create canvas\n    let canvas = document.createElement(\"canvas\"),\n      context = canvas.getContext(\"2d\"),\n      imgData = context.createImageData(width, height);\n\n    canvas.height = height;\n    canvas.width = width;\n\n    // fill imgData with data from cells\n    for (var i = 0; i < width * height * 4; i++) {\n      if (i % 4 == 3) {\n        imgData.data[i] = 255;\n      } else {\n        imgData.data[i] = cells[i];\n      }\n    }\n    // put data to context at (0, 0)\n    context.putImageData(imgData, 0, 0);\n\n    let cellData = canvas.toDataURL(\"image/png\");\n    let dataString = JSON.stringify(cellData);\n    try {\n      localStorage.setItem(\"cell_data\", dataString);\n      localStorage.setItem(\"o2\", universe.o2());\n      localStorage.setItem(\"time\", window.t);\n    } catch {\n      console.log(\"store failed\");\n    }\n\n    const sprite = new Uint8Array(\n      memory.buffer,\n      universe.sprite(),\n      width * height * 4\n    );\n\n    // fill imgData with data from sprite\n    for (var i = 0; i < width * height * 4; i++) {\n      imgData.data[i] = sprite[i];\n    }\n    // put data to context at (0, 0)\n    context.putImageData(imgData, 0, 0);\n\n    let spriteData = canvas.toDataURL(\"image/png\");\n    let spriteDataString = JSON.stringify(spriteData);\n    try {\n      localStorage.setItem(\"sprite_data\", spriteDataString);\n    } catch {\n      console.log(\"store failed\");\n    }\n\n    // this.load();\n  }\n  currentDateString() {\n    let date = new Date();\n    return `${date.getMonth()}-${date.getDate()}`;\n  }\n  findTchotchke() {\n    if (localStorage.getItem(\"last_tchotchke\") == this.currentDateString()) {\n      return;\n    }\n    randomIco().then(a => {\n      this.setState(({ tchotchkes }) => {\n        localStorage.setItem(\"last_tchotchke\", this.currentDateString());\n\n        if (this.state.tchotchkes.size >= 2) {\n          tchotchkes.delete(Array.from(tchotchkes)[0]);\n        }\n\n        tchotchkes.add(a.url);\n        return { tchotchkes };\n      });\n    });\n  }\n  load() {\n    console.log(\"loading\");\n\n    window.setInterval(() => this.findTchotchke(), 1000 * 60 * 5);\n\n    var cellData = JSON.parse(localStorage.getItem(\"cell_data\"));\n    var spriteData = JSON.parse(localStorage.getItem(\"sprite_data\"));\n\n    if (!cellData) {\n      console.log(\"no save\");\n      window.setInterval(() => this.upload(), 1000 * 10);\n\n      return;\n    }\n\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    var ctx = canvas.getContext(\"2d\");\n    var img = new Image();\n    img.src = cellData;\n    img.onload = () => {\n      ctx.drawImage(img, 0, 0);\n      var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n      const cellsData = new Uint8Array(\n        memory.buffer,\n        universe.cells(),\n        width * height * 4\n      );\n\n      // universe.reset();\n\n      for (var i = 0; i < width * height * 4; i++) {\n        cellsData[i] = imgData.data[i];\n      }\n      if (localStorage.getItem(\"o2\")) {\n        let o2 = parseInt(localStorage.getItem(\"o2\"), 10);\n        universe.set_o2(o2);\n      }\n\n      window.setInterval(() => this.upload(), 1000 * 10);\n    };\n\n    var canvas2 = document.createElement(\"canvas\");\n    canvas2.width = width;\n    canvas2.height = height;\n    var ctx2 = canvas2.getContext(\"2d\");\n\n    var img2 = new Image();\n    img2.src = spriteData;\n    img2.onload = () => {\n      ctx2.drawImage(img2, 0, 0);\n      var imgData = ctx2.getImageData(0, 0, canvas2.width, canvas2.height);\n\n      const spriteData = new Uint8Array(\n        memory.buffer,\n        universe.sprite(),\n        width * height * 4\n      );\n\n      for (var i = 0; i < width * height * 4; i++) {\n        spriteData[i] = imgData.data[i];\n      }\n    };\n    // universe.flush_undos();\n    // universe.push_undo();\n    // this.pause();\n  }\n\n  render() {\n    let {\n      ff,\n      selectedElement,\n      currentSubmission,\n      selectedTchotchke,\n      tchotchkes,\n      tutorialProgress\n    } = this.state;\n    let hash =\n      currentSubmission && currentSubmission.id\n        ? `#${currentSubmission.id}`\n        : \"\";\n\n    let activeSpecies = Object.keys(Species).filter(\n      name => !skiplist.includes(name) && !Number.isInteger(Number.parseInt(name))\n    );\n    // if (tutorial) {\n    //   activeSpecies = [\"Sand\", \"Water\"];\n    // }\n    return (\n      <div className=\"window fade\" id=\"HUD\">\n        <div className=\"title-bar\">\n          <div className=\"title-bar-text\">ЭкоФерма</div>\n          <div className=\"title-bar-controls\">\n            <button\n              aria-label=\"Minimize\"\n              onClick={() => {\n                document.body.classList.add(\"faded\");\n              }}\n            ></button>\n            <button aria-label=\"Maximize\"></button>\n            <button\n              aria-label=\"Close\"\n              onClick={() => {\n                document.body.classList.add(\"faded\");\n              }}\n            ></button>\n          </div>\n        </div>\n        <div className=\"window-body hud-body\">\n          <Gauge></Gauge>\n          <div id=\"hud-buttons\">\n            <OrganicButton\n              onClick={() => this.toggleFF()}\n              className={ff ? \"selected\" : \"\"}\n              active={ff}\n            >\n              <svg height=\"20\" width=\"20\" id=\"d\" viewBox=\"0 0 300 300\">\n                <polygon id=\"play\" points=\"0,50 , 150,150 0,250\" />\n                <polygon id=\"play\" points=\"150,50, 300,150 150,250\" />\n              </svg>\n            </OrganicButton>\n\n            <OrganicButton onClick={() => this.reset()}>Сброс</OrganicButton>\n            <Link\n              to={{\n                pathname: \"/info/\",\n                hash\n              }}\n            >\n              <OrganicButton style={{ width: \"calc(100% - 4px)\" }}>\n                Помощь\n              </OrganicButton>\n            </Link>\n\n            {/* <OrganicButton\n              onClick={() => {\n                // reset();\n                universe.pop_undo();\n              }}\n              style={{ fontSize: 35 }}\n            >\n              ↜\n            </OrganicButton> */}\n            {/* \n            <OrganicButton\n              onClick={() => {\n                exportGif(universe, blob => {\n                  this.pause();\n\n                  this.setState({ dataURL: blob });\n                });\n              }}\n            >\n              📷\n            </OrganicButton> */}\n\n            {activeSpecies.map(n =>\n              ElementButton(n, selectedTchotchke || selectedElement, id =>\n                this.setState({ selectedElement: id, selectedTchotchke: null })\n              )\n            )}\n            {tchotchkes.size > 0 && (\n              <span className=\"tchotchkes\">\n                {Array.from(tchotchkes).map(url => (\n                  <img\n                    onClick={() => {\n                      document.documentElement.style.cursor = `url(\"${url}\"), default`;\n\n                      this.setState({ selectedTchotchke: url });\n                    }}\n                    className={selectedTchotchke == url ? \"selected\" : \"\"}\n                    src={url}\n                    key={url}\n                  ></img>\n                ))}\n              </span>\n            )}\n            {selectedTchotchke && (\n              <button\n                className=\"discard\"\n                onClick={() => {\n                  window.UI.setState(({ tchotchkes }) => {\n                    tchotchkes.delete(selectedTchotchke);\n                    return { tchotchkes, selectedTchotchke: null };\n                  });\n                }}\n              >\n                Discard\n              </button>\n            )}\n\n            {this.state.dataURL && (\n              <Menu close={() => this.closeMenu()}>\n                <h4>~~~Share your Orb!~~~~</h4>\n\n                <img src={this.state.dataURL} className=\"submissionImg\" />\n                <h4>Orb.Farm</h4>\n                <h4>Tell your friends!</h4>\n                <div style={{ display: \"flex\" }}></div>\n              </Menu>\n            )}\n          </div>\n        </div>\n        {tutorialProgress < 4 && (\n          <React.Fragment>\n            <div className=\"welcome-scrim\"></div>\n            <div className=\"window\" id=\"welcome\">\n              <div className=\"title-bar\">\n                <div className=\"title-bar-text\">ЭкоФерма</div>\n                <div className=\"title-bar-controls\">\n                  <button\n                    aria-label=\"Minimize\"\n                    onClick={() => {\n                      this.setState({\n                        tutorialProgress: tutorialProgress + 1\n                      });\n                      if (tutorialProgress == 3) {\n                        localStorage.setItem(\"tutorialProgress\", 4);\n                      }\n                    }}\n                  ></button>\n                  <button aria-label=\"Maximize\"></button>\n                  <button\n                    aria-label=\"Close\"\n                    onClick={() => {\n                      this.setState({\n                        tutorialProgress: tutorialProgress + 1\n                      });\n                      if (tutorialProgress == 3) {\n                        localStorage.setItem(\"tutorialProgress\", 4);\n                      }\n                    }}\n                  ></button>\n                </div>\n              </div>\n              <div className=\"window-body\">\n                <div className=\"welcome-right-column\">\n                  <div className=\"field-row-stacked welcome-speech\">\n                    {\n                      [\n                        <span>\n                          <h1>Добро пожаловать на ЭкоФерму!</h1>{\" \"}\n                          <p>\n                            Это водная экосистема, которую ты можешь самостоятельно создавать и наблюдать за ее жизнедеятельностью.\n                          </p>\n                        </span>,\n                        <p>\n                          Нужен совет? Начни с основ: добавь {\" \"}\n                          {ElementButton(\"Sand\", null, () => {})} и{\" \"}\n                          {ElementButton(\"Water\", null, () => {})}, выбрав соответствующие клавиши.\n                        </p>,\n                        <p>\n                          Теперь добавь живых организмов, например, {\" \"}\n                          {ElementButton(\"Daphnia\", null, () => {})}. Только не забудь о таких вкусняшках как {\" \"}\n                          {ElementButton(\"Algae\", null, () => {})}, которыми они будут питаться, когда подрастут.\n                        </p>,\n                        <span>\n                          <p>\n                            Сбалансируй потребности экосистемы как посчитаешь нужным, чтобы добиться стабильности твоей ЭкоФермы.\n                          </p>\n                          <h1> Удачи!</h1>{\" \"}\n                        </span>\n                      ][tutorialProgress]\n                    }\n                  </div>\n                </div>\n                <img id=\"daphnia\" src={daphniaImg}></img>\n                <span>\n                  {/* <img id=\"bubblebig\" src={bubblebig}></img> */}\n                  <p id=\"welcome-progress\">{tutorialProgress + 1}/4</p>\n                  <OrganicButton\n                    className=\"next-button\"\n                    onClick={() => {\n                      this.setState({\n                        tutorialProgress: tutorialProgress + 1\n                      });\n                      if (tutorialProgress == 3) {\n                        localStorage.setItem(\"tutorialProgress\", 4);\n                      }\n                    }}\n                  >\n                    {tutorialProgress < 3 ? \"Далее >\" : \"Начать!\"}\n                  </OrganicButton>\n                </span>\n              </div>\n            </div>\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nexport { Index };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nimport Info from \"./components/info\";\nimport { Index } from \"./components/ui\";\nimport Menu from \"./components/menu\";\n// import { Gauge } from \"./gauge\";\n\nfunction AppRouter() {\n  return (\n    <Router>\n      <Route path=\"/\" component={Index} />\n      <Route exact path=\"/info/\" component={Info} />\n    </Router>\n  );\n}\n\nReactDOM.render(<AppRouter />, document.getElementById(\"ui\"));\n\n// ReactDOM.render(<Gauge />, document.getElementById(\"gauge\"));\n","let fsh = require(\"./glsl/sky.glsl\");\n\n/*forked from https://github.com/bysse/shadertoy-webgl-harness*/\n// Mixed with some webgl2 code taken from pilibs.js\n// http://iquilezles.org/code/piLibsJS/piLibsJS.htm\nclass WebGL {\n  constructor(canvasId, res) {\n    this.canvas = document.getElementById(canvasId);\n    var opts = {\n      stencil: false,\n      premultipliedAlpha: false\n    };\n\n    var gl = null;\n    if (gl == null) gl = this.canvas.getContext(\"webgl2\", opts);\n    if (gl == null) gl = this.canvas.getContext(\"experimental-webgl2\", opts);\n    if (gl == null) gl = this.canvas.getContext(\"webgl\", opts);\n    if (gl == null) gl = this.canvas.getContext(\"experimental-webgl\", opts);\n    this.gl = gl;\n    this.textures = {};\n    let mIs20 = !(this.gl instanceof WebGLRenderingContext);\n\n    let vertexShader = \"\";\n\n    if (mIs20) {\n      vertexShader +=\n        \"#version 300 es\\n\" +\n        \"#ifdef GL_ES\\n\" +\n        \"precision highp float;\\n\" +\n        \"precision highp int;\\n\" +\n        \"precision mediump sampler3D;\\n\" +\n        \"#endif\\n\" +\n        \"in \";\n    } else {\n      vertexShader +=\n        \"#ifdef GL_ES\\n\" +\n        \"precision highp float;\\n\" +\n        \"precision highp int;\\n\" +\n        \"#endif\\n\" +\n        \"attribute\";\n    }\n    vertexShader +=\n      \" vec4 aPosition; void main() { gl_Position = aPosition; } \";\n    let fragmentShader = \"\";\n\n    let mDerivatives;\n    let mShaderTextureLOD;\n\n    if (mIs20) {\n      mDerivatives = true;\n      mShaderTextureLOD = true;\n    } else {\n      mDerivatives = this.gl.getExtension(\"OES_standard_derivatives\");\n      mShaderTextureLOD = this.gl.getExtension(\"EXT_shader_texture_lod\");\n    }\n\n    if (mIs20) {\n      fragmentShader +=\n        \"#version 300 es\\n\" +\n        \"#ifdef GL_ES\\n\" +\n        \"precision highp float;\\n\" +\n        \"precision highp int;\\n\" +\n        \"precision mediump sampler3D;\\n\" +\n        \"#endif\\n\" +\n        \"out vec4 myOutputColor;\\n\";\n      fsh = fsh.replace(\"gl_FragColor\", \"myOutputColor\");\n    } else {\n      if (mDerivatives) {\n        fragmentShader +=\n          \"#ifdef GL_OES_standard_derivatives\\n#extension GL_OES_standard_derivatives : enable\\n#endif\\n\";\n      }\n      if (mShaderTextureLOD) {\n        fragmentShader += \"#extension GL_EXT_shader_texture_lod : enable\\n\";\n      }\n      fragmentShader +=\n        \"#ifdef GL_ES\\n\" +\n        \"precision highp float;\\n\" +\n        \"precision highp int;\\n\" +\n        \"#endif\\n\" +\n        \"vec4 texture(     sampler2D   s, vec2 c)                   { return texture2D(s,c); }\\n\" +\n        \"vec4 texture(     sampler2D   s, vec2 c, float b)          { return texture2D(s,c,b); }\\n\" +\n        \"vec4 texture(     samplerCube s, vec3 c )                  { return textureCube(s,c); }\\n\" +\n        \"vec4 texture(     samplerCube s, vec3 c, float b)          { return textureCube(s,c,b); }\\n\" +\n        \"float round( float x ) { return floor(x+0.5); }\\n\" +\n        \"vec2 round(vec2 x) { return floor(x + 0.5); }\\n\" +\n        \"vec3 round(vec3 x) { return floor(x + 0.5); }\\n\" +\n        \"vec4 round(vec4 x) { return floor(x + 0.5); }\\n\" +\n        \"float trunc( float x, float n ) { return floor(x*n)/n; }\\n\" +\n        \"mat3 transpose(mat3 m) { return mat3(m[0].x, m[1].x, m[2].x, m[0].y, m[1].y, m[2].y, m[0].z, m[1].z, m[2].z); }\\n\" +\n        \"float determinant( in mat2 m ) { return m[0][0]*m[1][1] - m[0][1]*m[1][0]; }\\n\" +\n        \"float determinant( mat4 m ) { float b00 = m[0][0] * m[1][1] - m[0][1] * m[1][0], b01 = m[0][0] * m[1][2] - m[0][2] * m[1][0], b02 = m[0][0] * m[1][3] - m[0][3] * m[1][0], b03 = m[0][1] * m[1][2] - m[0][2] * m[1][1], b04 = m[0][1] * m[1][3] - m[0][3] * m[1][1], b05 = m[0][2] * m[1][3] - m[0][3] * m[1][2], b06 = m[2][0] * m[3][1] - m[2][1] * m[3][0], b07 = m[2][0] * m[3][2] - m[2][2] * m[3][0], b08 = m[2][0] * m[3][3] - m[2][3] * m[3][0], b09 = m[2][1] * m[3][2] - m[2][2] * m[3][1], b10 = m[2][1] * m[3][3] - m[2][3] * m[3][1], b11 = m[2][2] * m[3][3] - m[2][3] * m[3][2];  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;}\\n\" +\n        \"mat2 inverse(mat2 m) { float det = determinant(m); return mat2(m[1][1], -m[0][1], -m[1][0], m[0][0]) / det; }\\n\" +\n        \"mat4 inverse(mat4 m ) { float inv0 = m[1].y*m[2].z*m[3].w - m[1].y*m[2].w*m[3].z - m[2].y*m[1].z*m[3].w + m[2].y*m[1].w*m[3].z + m[3].y*m[1].z*m[2].w - m[3].y*m[1].w*m[2].z; float inv4 = -m[1].x*m[2].z*m[3].w + m[1].x*m[2].w*m[3].z + m[2].x*m[1].z*m[3].w - m[2].x*m[1].w*m[3].z - m[3].x*m[1].z*m[2].w + m[3].x*m[1].w*m[2].z; float inv8 = m[1].x*m[2].y*m[3].w - m[1].x*m[2].w*m[3].y - m[2].x  * m[1].y * m[3].w + m[2].x  * m[1].w * m[3].y + m[3].x * m[1].y * m[2].w - m[3].x * m[1].w * m[2].y; float inv12 = -m[1].x  * m[2].y * m[3].z + m[1].x  * m[2].z * m[3].y +m[2].x  * m[1].y * m[3].z - m[2].x  * m[1].z * m[3].y - m[3].x * m[1].y * m[2].z + m[3].x * m[1].z * m[2].y; float inv1 = -m[0].y*m[2].z * m[3].w + m[0].y*m[2].w * m[3].z + m[2].y  * m[0].z * m[3].w - m[2].y  * m[0].w * m[3].z - m[3].y * m[0].z * m[2].w + m[3].y * m[0].w * m[2].z; float inv5 = m[0].x  * m[2].z * m[3].w - m[0].x  * m[2].w * m[3].z - m[2].x  * m[0].z * m[3].w + m[2].x  * m[0].w * m[3].z + m[3].x * m[0].z * m[2].w - m[3].x * m[0].w * m[2].z; float inv9 = -m[0].x  * m[2].y * m[3].w +  m[0].x  * m[2].w * m[3].y + m[2].x  * m[0].y * m[3].w - m[2].x  * m[0].w * m[3].y - m[3].x * m[0].y * m[2].w + m[3].x * m[0].w * m[2].y; float inv13 = m[0].x  * m[2].y * m[3].z - m[0].x  * m[2].z * m[3].y - m[2].x  * m[0].y * m[3].z + m[2].x  * m[0].z * m[3].y + m[3].x * m[0].y * m[2].z - m[3].x * m[0].z * m[2].y; float inv2 = m[0].y  * m[1].z * m[3].w - m[0].y  * m[1].w * m[3].z - m[1].y  * m[0].z * m[3].w + m[1].y  * m[0].w * m[3].z + m[3].y * m[0].z * m[1].w - m[3].y * m[0].w * m[1].z; float inv6 = -m[0].x  * m[1].z * m[3].w + m[0].x  * m[1].w * m[3].z + m[1].x  * m[0].z * m[3].w - m[1].x  * m[0].w * m[3].z - m[3].x * m[0].z * m[1].w + m[3].x * m[0].w * m[1].z; float inv10 = m[0].x  * m[1].y * m[3].w - m[0].x  * m[1].w * m[3].y - m[1].x  * m[0].y * m[3].w + m[1].x  * m[0].w * m[3].y + m[3].x * m[0].y * m[1].w - m[3].x * m[0].w * m[1].y; float inv14 = -m[0].x  * m[1].y * m[3].z + m[0].x  * m[1].z * m[3].y + m[1].x  * m[0].y * m[3].z - m[1].x  * m[0].z * m[3].y - m[3].x * m[0].y * m[1].z + m[3].x * m[0].z * m[1].y; float inv3 = -m[0].y * m[1].z * m[2].w + m[0].y * m[1].w * m[2].z + m[1].y * m[0].z * m[2].w - m[1].y * m[0].w * m[2].z - m[2].y * m[0].z * m[1].w + m[2].y * m[0].w * m[1].z; float inv7 = m[0].x * m[1].z * m[2].w - m[0].x * m[1].w * m[2].z - m[1].x * m[0].z * m[2].w + m[1].x * m[0].w * m[2].z + m[2].x * m[0].z * m[1].w - m[2].x * m[0].w * m[1].z; float inv11 = -m[0].x * m[1].y * m[2].w + m[0].x * m[1].w * m[2].y + m[1].x * m[0].y * m[2].w - m[1].x * m[0].w * m[2].y - m[2].x * m[0].y * m[1].w + m[2].x * m[0].w * m[1].y; float inv15 = m[0].x * m[1].y * m[2].z - m[0].x * m[1].z * m[2].y - m[1].x * m[0].y * m[2].z + m[1].x * m[0].z * m[2].y + m[2].x * m[0].y * m[1].z - m[2].x * m[0].z * m[1].y; float det = m[0].x * inv0 + m[0].y * inv4 + m[0].z * inv8 + m[0].w * inv12; det = 1.0 / det; return det*mat4( inv0, inv1, inv2, inv3,inv4, inv5, inv6, inv7,inv8, inv9, inv10, inv11,inv12, inv13, inv14, inv15);}\\n\" +\n        \"float sinh(float x)  { return (exp(x)-exp(-x))/2.; }\\n\" +\n        \"float cosh(float x)  { return (exp(x)+exp(-x))/2.; }\\n\" +\n        \"float tanh(float x)  { return sinh(x)/cosh(x); }\\n\" +\n        \"float coth(float x)  { return cosh(x)/sinh(x); }\\n\" +\n        \"float sech(float x)  { return 1./cosh(x); }\\n\" +\n        \"float csch(float x)  { return 1./sinh(x); }\\n\" +\n        \"float asinh(float x) { return    log(x+sqrt(x*x+1.)); }\\n\" +\n        \"float acosh(float x) { return    log(x+sqrt(x*x-1.)); }\\n\" +\n        \"float atanh(float x) { return .5*log((1.+x)/(1.-x)); }\\n\" +\n        \"float acoth(float x) { return .5*log((x+1.)/(x-1.)); }\\n\" +\n        \"float asech(float x) { return    log((1.+sqrt(1.-x*x))/x); }\\n\" +\n        \"float acsch(float x) { return    log((1.+sqrt(1.+x*x))/x); }\\n\";\n      if (mShaderTextureLOD) {\n        fragmentShader +=\n          \"vec4 textureLod(  sampler2D   s, vec2 c, float b)          { return texture2DLodEXT(s,c,b); }\\n\";\n        fragmentShader +=\n          \"vec4 textureGrad( sampler2D   s, vec2 c, vec2 dx, vec2 dy) { return texture2DGradEXT(s,c,dx,dy); }\\n\";\n      } else {\n        fsh = fsh.replace(\"textureLod\", \"texture\");\n      }\n    }\n\n    fragmentShader += fsh;\n    // console.log(fragmentShader);\n    this.shader = WebGL.linkShader(this.gl, vertexShader, fragmentShader);\n    this.shader.vertexAttribute = this.gl.getAttribLocation(\n      this.shader,\n      \"aPosition\"\n    );\n    this.gl.enableVertexAttribArray(this.shader.vertexAttribute);\n\n    this.height = window.innerHeight / res;\n    this.width = window.innerWidth / res;\n    this.canvas.setAttribute(\"width\", this.width);\n    this.canvas.setAttribute(\"height\", this.height);\n\n    this.vertexBuffer = WebGL.createVBO(this.gl, 3, [\n      1.0,\n      1.0,\n      0.0,\n      -1.0,\n      1.0,\n      0.0,\n      1.0,\n      -1.0,\n      0.0,\n      -1.0,\n      -1.0,\n      0.0\n    ]);\n    this.running = false;\n    this.time0 = 0.0;\n  }\n\n  loadTexture(channelNumber, source) {\n    var texture = this.gl.createTexture();\n    var gl = this.gl;\n    texture.image = new Image();\n    texture.image.onload = () => {\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n\n      try {\n        gl.texImage2D(\n          gl.TEXTURE_2D,\n          0,\n          gl.RGBA,\n          gl.RGBA,\n          gl.UNSIGNED_BYTE,\n          texture.image\n        );\n      } catch (err) {\n        console.log(`ERROR: Failed to load texture ${source} : ${err}`);\n\n        console.log(`INFO: Generating placeholder texture for ${source}`);\n        var w = 64,\n          bw = 4,\n          data = [];\n        for (var y = 0; y < w; y++) {\n          for (var x = 0; x < w; x++) {\n            var ix = parseInt(x / bw),\n              iy = parseInt(y / bw);\n            var c = 0xff * ((ix + iy) % 2);\n            data = data.concat([c, c, c, 0xff]);\n          }\n        }\n        gl.texImage2D(\n          gl.TEXTURE_2D,\n          0,\n          gl.RGBA,\n          w,\n          w,\n          0,\n          gl.RGBA,\n          gl.UNSIGNED_BYTE,\n          new Uint8Array(data)\n        );\n      }\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      gl.bindTexture(gl.TEXTURE_2D, null);\n\n      this.textures[channelNumber] = texture;\n    };\n    texture.image.src = source;\n  }\n\n  start() {\n    if (this.running) {\n      return;\n    }\n\n    this._start();\n  }\n\n  _start() {\n    this.running = true;\n    this.time0 = WebGL.getTime();\n    this.timePreviousFrame = this.time0;\n\n    this.gl.disable(this.gl.DEPTH_TEST);\n    this.gl.viewport(0, 0, this.width, this.height);\n    this.gl.useProgram(this.shader);\n  }\n\n  stop() {\n    this.running = false;\n  }\n\n  frame(gameTime) {\n    let gl = this.gl;\n    if (!this.running) {\n      return;\n    }\n\n    let shader = this.shader;\n    let time = WebGL.getTime() - this.time0;\n    let dt = time - this.timePreviousFrame;\n    this.timePreviousFrame = time;\n\n    gl.clear(gl.DEPTH_BUFFER_BIT);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    gl.vertexAttribPointer(\n      shader.vertexAttribute,\n      this.vertexBuffer.itemSize,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n\n    // set texture\n    for (var channel in this.textures) {\n      var texture = this.textures[channel];\n      gl.activeTexture(gl.TEXTURE0 + parseInt(channel));\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.uniform1i(\n        gl.getUniformLocation(shader, \"iChannel\" + channel),\n        channel\n      );\n    }\n\n    // update uniforms\n    gl.uniform3f(\n      gl.getUniformLocation(shader, \"iResolution\"),\n      this.width,\n      this.height,\n      0\n    );\n    gl.uniform1f(gl.getUniformLocation(shader, \"iGlobalTime\"), time); // legacy support\n    gl.uniform1f(gl.getUniformLocation(shader, \"iTime\"), time);\n    gl.uniform1f(gl.getUniformLocation(shader, \"gameTime\"), gameTime);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, this.vertexBuffer.numItems);\n  }\n\n  static createVBO(gl, stride, vertexData) {\n    var vertexBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n    gl.bufferData(\n      gl.ARRAY_BUFFER,\n      new Float32Array(vertexData),\n      gl.STATIC_DRAW\n    );\n    vertexBuffer.itemSize = stride;\n    vertexBuffer.numItems = vertexData.length / stride;\n    return vertexBuffer;\n  }\n\n  static linkShader(gl, vertexSource, fragmentSource) {\n    var program = gl.createProgram();\n    gl.attachShader(\n      program,\n      WebGL.compileShader(gl, gl.VERTEX_SHADER, vertexSource)\n    );\n    gl.attachShader(\n      program,\n      WebGL.compileShader(gl, gl.FRAGMENT_SHADER, fragmentSource)\n    );\n    gl.linkProgram(program);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      WebGL.showLogProgram(gl, program);\n      throw `Failed to link shader!`;\n    }\n\n    program.uniformLocation = (gl, name) =>\n      gl.getUniformLocation(program, name);\n\n    return program;\n  }\n\n  static compileShader(gl, shaderType, source) {\n    var shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      let type =\n        shaderType == gl.VERTEX_SHADER ? \"vertex shader\" : \"fragment shader\";\n      WebGL.showLog(gl, shader);\n      throw `Failed to compile ${type}`;\n    }\n    return shader;\n  }\n\n  static getTime() {\n    return 0.001 * new Date().getTime();\n  }\n  static showLog(gl, shader) {\n    var compilationLog = gl.getShaderInfoLog(shader);\n    console.log(\"ERROR: \" + compilationLog);\n  }\n  static showLogProgram(gl, program) {\n    var compilationLog = gl.getProgramInfoLog(program);\n    console.log(\"ERROR: \" + compilationLog);\n  }\n}\n\nfunction startSky(res) {\n  var webGL = new WebGL(\"sky-canvas\", res);\n  webGL.loadTexture(0, \"assets/noise.png\");\n\n  webGL.start();\n  return webGL;\n}\n\nexport { startSky };\n","import { Universe, Species } from \"../crate/pkg\";\n\nimport { startWebGL } from \"./render\";\nimport { startPlotter } from \"./plot\";\nimport { fps } from \"./fps\";\nimport {} from \"./paint\";\nimport {} from \"./app\";\nimport {} from \"./setup\";\nimport { startSky } from \"./shaderToy\";\nimport { getTchotchkes } from \"./tchotchkes\";\n\nlet n = 200;\nlet h = n / 2;\nlet d = n - 6;\n\nconst universe = Universe.new(n, n);\n\nfunction drawBowl() {\n  universe.paint(h, h, d + 2, Species.Glass);\n  universe.paint(h - 30, d - 3, 20, Species.Wood);\n  universe.paint(h + 30, d - 3, 20, Species.Wood);\n  universe.paint(h, h, d - 2, Species.Air);\n}\n\ndrawBowl();\n// for (var x = 30; x < d - 30; x += 10) {\n// universe.paint(x, h * 1.2, h, Species.Water);\n// }\n\n// for (var x = 0; x < d; x += 10) {\n// universe.paint(x, n - 50, 40, Species.Sand);\n// }\n// universe.paint(h, h, h * 0.9, Species.Water);\n\n// universe.paint(h, h, 2, Species.Zoop);\n// universe.paint(h + 20, h, 2, Species.Fish);\n// universe.paint(h, h * 1.2, 2, Species.Bacteria);\n// universe.paint(h * 1.5, h * 1.2, 2, Species.Grass);\n\n// universe.paint(h, h, 10, Species.Algae);\n\n// universe.paint(150, 50, 25, Species.Grass);\nlet ratio = 2;\nlet width = n;\nlet height = n;\nconst canvas = document.getElementById(\"sand-canvas\");\n\ncanvas.height = n * ratio * Math.ceil(window.devicePixelRatio);\ncanvas.width = n * ratio * Math.ceil(window.devicePixelRatio);\n\nconst HUD = document.getElementById(\"HUD\");\nlet canvasSize;\nlet resize = () => {\n  let screen_width = window.innerWidth;\n  let HUDheight = 50;\n  let screen_height = window.innerHeight - HUDheight;\n\n  let canvasStyle = \"\";\n  let HUDStyle = \"\";\n  if (screen_width - 150 > screen_height) {\n    if (screen_width - window.innerHeight < 400) {\n      // landscape compressed\n      canvasStyle = `height: ${window.innerHeight}px; margin:3px`;\n      canvasSize = window.innerHeight;\n      HUDStyle = `width: ${screen_width -\n        window.innerHeight -\n        12}px; margin: 2px;`;\n    } else {\n      // landscape wide\n      canvasStyle = `height: ${window.innerHeight}px`;\n      canvasSize = window.innerHeight;\n\n      HUDStyle = `width: ${(screen_width - window.innerHeight) / 2 -\n        7}px; margin: 2px;`;\n    }\n  } else {\n    //portrait (mobile)\n    canvasSize = screen_width;\n\n    canvasStyle = `width: ${screen_width}px; `;\n  }\n  HUD.style = HUDStyle;\n  canvas.style = canvasStyle;\n};\n\nresize();\nwindow.addEventListener(\"deviceorientation\", resize, true);\nwindow.addEventListener(\"resize\", resize);\n\nlet drawSand = startWebGL({ canvas, universe });\nlet sky_ratio = canvasSize / n;\n\nlet sky;\ntry {\n  sky = startSky(sky_ratio * 2);\n} catch (e) {\n  console.error(\"skys haunted\");\n  sky = {\n    frame: () => {}\n  };\n}\n// let plotcanvas = document.getElementById(\"plot-canvas\");\n// let { drawPlot, recordDataPoint } = startPlotter({\n// canvas: plotcanvas,\n// universe\n// });\n\nlet t = parseInt(localStorage.getItem(\"time\"), 10) || 0;\nconst renderLoop = () => {\n  const now = performance.now();\n\n  let max_tick_per_frame = window.ff ? 11 : 1;\n  for (var i = 0; i < max_tick_per_frame; i++) {\n    var dayTime = (t / 50) % 255;\n\n    if (!window.paused) {\n      // fps.render(); // new\n\n      universe.tick();\n      t += 1;\n\n      if (dayTime > 70 && dayTime < 170) {\n        t += 10;\n      }\n    }\n    universe.set_time(dayTime);\n    window.gauge.setState({\n      angle: 45 + (270 * universe.o2()) / universe.total_gas()\n    });\n    // recordDataPoint();\n    let elapsed_time = performance.now() - now;\n    if (elapsed_time > 13) {\n      break;\n    }\n  }\n  window.t = t;\n  let skyTime = dayTime / 255;\n  window.skyTime = skyTime;\n  drawSand.draw();\n  sky.frame(skyTime);\n  // drawPlot();\n\n  window.animWebationId = requestAnimationFrame(renderLoop);\n};\nfunction reset() {\n  console.log(\"reseting\");\n  localStorage.setItem(\"cell_data\", null);\n  universe.reset();\n  localStorage.setItem(\"o2\", universe.total_gas() / 2);\n  localStorage.setItem(\"time\", 0);\n\n  drawBowl();\n}\nwindow.u = universe;\nwindow.universe = universe;\nrenderLoop();\n\nwindow.UI.load();\n// getTchotchkes().then(images => {\n//   images.forEach((image, i) => {\n//     // console.log(image);\n//     universe.place_sprite(\n//       10 + Math.random() * 150,\n//       10 + Math.random() * 150,\n//       image.data\n//     );\n//   });\n// });\n// debugger;\n\nexport { canvas, width, height, ratio, universe, reset };\n","let wasm;\nexport function __wbg_set_wasm(val) {\n    wasm = val;\n}\n\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\n\nlet cachedTextDecoder = new lTextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n    if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n        cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nfunction notDefined(what) { return () => { throw new Error(`${what} is not defined`); }; }\n/**\n*/\nexport const Species = Object.freeze({ Air:0,\"0\":\"Air\",Glass:1,\"1\":\"Glass\",Sand:2,\"2\":\"Sand\",Stone:12,\"12\":\"Stone\",Wood:13,\"13\":\"Wood\",Water:3,\"3\":\"Water\",Algae:4,\"4\":\"Algae\",Zoop:6,\"6\":\"Zoop\",Daphnia:14,\"14\":\"Daphnia\",Grass:11,\"11\":\"Grass\",Plant:5,\"5\":\"Plant\",Bacteria:8,\"8\":\"Bacteria\",Fish:7,\"7\":\"Fish\",FishTail:15,\"15\":\"FishTail\",GoldFish:18,\"18\":\"GoldFish\",GoldFishTail:19,\"19\":\"GoldFishTail\",Nitrogen:9,\"9\":\"Nitrogen\",Waste:10,\"10\":\"Waste\",Bubble:16,\"16\":\"Bubble\",Biofilm:17,\"17\":\"Biofilm\",Plastic:20,\"20\":\"Plastic\", });\n\nconst CellFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_cell_free(ptr >>> 0));\n/**\n*/\nexport class Cell {\n\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        CellFinalization.unregister(this);\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_cell_free(ptr);\n    }\n}\n\nconst LightFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_light_free(ptr >>> 0));\n/**\n*/\nexport class Light {\n\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        LightFinalization.unregister(this);\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_light_free(ptr);\n    }\n}\n\nconst PixelFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_pixel_free(ptr >>> 0));\n/**\n*/\nexport class Pixel {\n\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        PixelFinalization.unregister(this);\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_pixel_free(ptr);\n    }\n}\n\nconst UniverseFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_universe_free(ptr >>> 0));\n/**\n*/\nexport class Universe {\n\n    static __wrap(ptr) {\n        ptr = ptr >>> 0;\n        const obj = Object.create(Universe.prototype);\n        obj.__wbg_ptr = ptr;\n        UniverseFinalization.register(obj, obj.__wbg_ptr, obj);\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        UniverseFinalization.unregister(this);\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_universe_free(ptr);\n    }\n    /**\n    */\n    reset() {\n        wasm.universe_reset(this.__wbg_ptr);\n    }\n    /**\n    */\n    calculate_light() {\n        wasm.universe_calculate_light(this.__wbg_ptr);\n    }\n    /**\n    * @param {number} brightness\n    * @param {number} x\n    * @param {number} y\n    * @param {number} dx\n    * @param {number} dy\n    */\n    cast_ray(brightness, x, y, dx, dy) {\n        wasm.universe_cast_ray(this.__wbg_ptr, brightness, x, y, dx, dy);\n    }\n    /**\n    */\n    tick() {\n        wasm.universe_tick(this.__wbg_ptr);\n    }\n    /**\n    * @returns {number}\n    */\n    width() {\n        const ret = wasm.universe_width(this.__wbg_ptr);\n        return ret;\n    }\n    /**\n    * @returns {number}\n    */\n    height() {\n        const ret = wasm.universe_height(this.__wbg_ptr);\n        return ret;\n    }\n    /**\n    * @returns {number}\n    */\n    o2() {\n        const ret = wasm.universe_o2(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    total_gas() {\n        const ret = wasm.universe_total_gas(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    co2() {\n        const ret = wasm.universe_co2(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    cells() {\n        const ret = wasm.universe_cells(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    lights() {\n        const ret = wasm.universe_lights(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @returns {number}\n    */\n    sprite() {\n        const ret = wasm.universe_sprite(this.__wbg_ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} xi\n    * @param {number} yi\n    * @param {Uint8Array} typebuf\n    */\n    place_sprite(xi, yi, typebuf) {\n        wasm.universe_place_sprite(this.__wbg_ptr, xi, yi, addHeapObject(typebuf));\n    }\n    /**\n    * @param {number} x\n    * @param {number} y\n    * @param {number} size\n    * @param {Species} species\n    */\n    paint(x, y, size, species) {\n        wasm.universe_paint(this.__wbg_ptr, x, y, size, species);\n    }\n    /**\n    */\n    push_undo() {\n        wasm.universe_push_undo(this.__wbg_ptr);\n    }\n    /**\n    */\n    pop_undo() {\n        wasm.universe_pop_undo(this.__wbg_ptr);\n    }\n    /**\n    */\n    flush_undos() {\n        wasm.universe_flush_undos(this.__wbg_ptr);\n    }\n    /**\n    * @param {number} t\n    */\n    set_time(t) {\n        wasm.universe_set_time(this.__wbg_ptr, t);\n    }\n    /**\n    * @param {number} v\n    */\n    set_o2(v) {\n        wasm.universe_set_o2(this.__wbg_ptr, v);\n    }\n    /**\n    */\n    inc_time() {\n        wasm.universe_inc_time(this.__wbg_ptr);\n    }\n    /**\n    * @param {number} width\n    * @param {number} height\n    * @returns {Universe}\n    */\n    static new(width, height) {\n        const ret = wasm.universe_new(width, height);\n        return Universe.__wrap(ret);\n    }\n}\n\nexport function __wbindgen_object_drop_ref(arg0) {\n    takeObject(arg0);\n};\n\nexport function __wbg_buffer_12d079cc21e14bdb(arg0) {\n    const ret = getObject(arg0).buffer;\n    return addHeapObject(ret);\n};\n\nexport function __wbg_new_63b92bc8671ed464(arg0) {\n    const ret = new Uint8Array(getObject(arg0));\n    return addHeapObject(ret);\n};\n\nexport function __wbg_set_a47bac70306a19a7(arg0, arg1, arg2) {\n    getObject(arg0).set(getObject(arg1), arg2 >>> 0);\n};\n\nexport function __wbg_length_c20a40f15020d68a(arg0) {\n    const ret = getObject(arg0).length;\n    return ret;\n};\n\nexport const __wbg_random_26e2d782b541ca6b = typeof Math.random == 'function' ? Math.random : notDefined('Math.random');\n\nexport function __wbindgen_throw(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n};\n\nexport function __wbindgen_memory() {\n    const ret = wasm.memory;\n    return addHeapObject(ret);\n};\n\n","module.exports = \"\\n// boring \\\"pass-through\\\" vertex shader\\nprecision mediump float;\\n#define GLSLIFY 1\\nattribute vec2 position;\\nvarying vec2 uv;\\nvoid main() {\\n  uv = position;\\n  gl_Position = vec4(position, 0, 1);\\n}\"","module.exports = __webpack_public_path__ + \"assets/daphniaAlpha.gif\";","module.exports = __webpack_public_path__ + \"assets/bubblebig.png\";","module.exports = __webpack_public_path__ + \"assets/bubblemed.png\";","module.exports = __webpack_public_path__ + \"assets/bubblesmall.png\";","module.exports = \"precision highp float;\\n#define GLSLIFY 1\\nuniform float t;\\nuniform float skyTime;\\n\\nuniform float dpi;\\nuniform vec2 resolution;\\nuniform bool isSnapshot;\\nuniform sampler2D backBuffer;\\nuniform sampler2D dataTexture;\\nuniform sampler2D lightTexture;\\nuniform sampler2D spriteTexture;\\n\\nvarying vec2 uv;\\nconst float PI2 = 2. * 3.14159265358979323846;\\n\\n// clang-format off\\nvec3 hsv2rgb(vec3 c) {\\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\\n}\\n\\n//\\n// Description : Array and textureless GLSL 2D/3D/4D simplex\\n//               noise functions.\\n//      Author : Ian McEwan, Ashima Arts.\\n//  Maintainer : ijm\\n//     Lastmod : 20110822 (ijm)\\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\\n//               Distributed under the MIT License. See LICENSE file.\\n//               https://github.com/ashima/webgl-noise\\n//\\n\\nvec3 mod289_1(vec3 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec4 mod289_1(vec4 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec4 permute_1(vec4 x) {\\n     return mod289_1(((x*34.0)+1.0)*x);\\n}\\n\\nvec4 taylorInvSqrt(vec4 r)\\n{\\n  return 1.79284291400159 - 0.85373472095314 * r;\\n}\\n\\nfloat snoise_1(vec3 v)\\n  {\\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\\n\\n// First corner\\n  vec3 i  = floor(v + dot(v, C.yyy) );\\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\\n\\n// Other corners\\n  vec3 g_0 = step(x0.yzx, x0.xyz);\\n  vec3 l = 1.0 - g_0;\\n  vec3 i1 = min( g_0.xyz, l.zxy );\\n  vec3 i2 = max( g_0.xyz, l.zxy );\\n\\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\\n  vec3 x1 = x0 - i1 + C.xxx;\\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\\n\\n// Permutations\\n  i = mod289_1(i);\\n  vec4 p = permute_1( permute_1( permute_1(\\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\\n\\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\\n  float n_ = 0.142857142857; // 1.0/7.0\\n  vec3  ns = n_ * D.wyz - D.xzx;\\n\\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\\n\\n  vec4 x_ = floor(j * ns.z);\\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\\n\\n  vec4 x = x_ *ns.x + ns.yyyy;\\n  vec4 y = y_ *ns.x + ns.yyyy;\\n  vec4 h = 1.0 - abs(x) - abs(y);\\n\\n  vec4 b0 = vec4( x.xy, y.xy );\\n  vec4 b1 = vec4( x.zw, y.zw );\\n\\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\\n  vec4 s0 = floor(b0)*2.0 + 1.0;\\n  vec4 s1 = floor(b1)*2.0 + 1.0;\\n  vec4 sh = -step(h, vec4(0.0));\\n\\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\\n\\n  vec3 p0 = vec3(a0.xy,h.x);\\n  vec3 p1 = vec3(a0.zw,h.y);\\n  vec3 p2 = vec3(a1.xy,h.z);\\n  vec3 p3 = vec3(a1.zw,h.w);\\n\\n//Normalise gradients\\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\\n  p0 *= norm.x;\\n  p1 *= norm.y;\\n  p2 *= norm.z;\\n  p3 *= norm.w;\\n\\n// Mix final noise value\\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\\n  m = m * m;\\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\\n                                dot(p2,x2), dot(p3,x3) ) );\\n  }\\n\\n//\\n// Description : Array and textureless GLSL 2D simplex noise function.\\n//      Author : Ian McEwan, Ashima Arts.\\n//  Maintainer : ijm\\n//     Lastmod : 20110822 (ijm)\\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\\n//               Distributed under the MIT License. See LICENSE file.\\n//               https://github.com/ashima/webgl-noise\\n//\\n\\nvec3 mod289_0(vec3 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec2 mod289_0(vec2 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec3 permute_0(vec3 x) {\\n  return mod289_0(((x*34.0)+1.0)*x);\\n}\\n\\nfloat snoise_0(vec2 v)\\n  {\\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\\n                      0.024390243902439); // 1.0 / 41.0\\n// First corner\\n  vec2 i  = floor(v + dot(v, C.yy) );\\n  vec2 x0 = v -   i + dot(i, C.xx);\\n\\n// Other corners\\n  vec2 i1;\\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\\n  //i1.y = 1.0 - i1.x;\\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\\n  // x1 = x0 - i1 + 1.0 * C.xx ;\\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\\n  vec4 x12 = x0.xyxy + C.xxzz;\\n  x12.xy -= i1;\\n\\n// Permutations\\n  i = mod289_0(i); // Avoid truncation effects in permutation\\n  vec3 p = permute_0( permute_0( i.y + vec3(0.0, i1.y, 1.0 ))\\n    + i.x + vec3(0.0, i1.x, 1.0 ));\\n\\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\\n  m = m*m ;\\n  m = m*m ;\\n\\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\\n\\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\\n  vec3 h = abs(x) - 0.5;\\n  vec3 ox = floor(x + 0.5);\\n  vec3 a0 = x - ox;\\n\\n// Normalise gradients implicitly by scaling m\\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\\n\\n// Compute final noise value at P\\n  vec3 g;\\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\\n  return 130.0 * dot(m, g);\\n}\\n\\nhighp float random(vec2 co)\\n{\\n    highp float a = 12.9898;\\n    highp float b = 78.233;\\n    highp float c = 43758.5453;\\n    highp float dt= dot(co.xy ,vec2(a,b));\\n    highp float sn= mod(dt,3.14);\\n    return fract(sin(sn) * c);\\n}\\n\\n// clang-format on\\n\\nvoid main() {\\n  vec3 color;\\n  vec2 grid = floor(uv * (resolution / dpi));\\n\\n  float noise = snoise_1(vec3(grid, t * 0.05));\\n  vec2 noise_2d = vec2(floor(0.5 + noise),\\n                       floor(0.5 + snoise_1(vec3(grid, (t + 20.) * 0.05))));\\n\\n  vec2 textCoord = (uv * vec2(0.5, -0.5)) + vec2(0.5);\\n  vec2 sampleCoord = textCoord + (noise_2d / (resolution / 2.));\\n\\n  vec4 data = texture2D(dataTexture, textCoord);\\n  // vec4 dataSample = texture2D(dataTexture, sampleCoord);\\n\\n  vec4 lightCell = texture2D(lightTexture, textCoord);\\n  vec4 spriteValue = texture2D(spriteTexture, textCoord);\\n\\n  float lightValue = lightCell.r;\\n  float sparkleValue = lightCell.g;\\n  float blueLightValue = lightCell.b;\\n\\n  vec4 lightSampleCell = texture2D(lightTexture, sampleCoord);\\n  float sampleLightValue = lightSampleCell.r;\\n\\n  lightValue = 0.5 * lightValue + 0.5 * sampleLightValue;\\n  lightValue += sparkleValue * (0.5 + noise * 0.1);\\n  int type = int((data.r * 255.) + 0.1);\\n  float energy = data.g;\\n  float age = data.b;\\n\\n  float hue = 0.0;\\n  float saturation = 0.6;\\n  float lightness = 0.3 + energy * 0.5;\\n  float a = 1.0;\\n  float brightness = 0.0;\\n\\n  if (type == 0) { // Air\\n\\n    hue = 0.0;\\n    saturation = 0.1;\\n    lightness = 0.1;\\n    a = 0.0;\\n    if (isSnapshot) {\\n      saturation = 0.05;\\n      lightness = 1.01;\\n      a = 1.0;\\n    }\\n\\n  } else if (type == 1) { // Glass\\n    hue = 0.1;\\n    saturation = 0.2;\\n    lightness = 1.0;\\n    a = 0.4 + lightValue * 0.3;\\n  } else if (type == 2) { // Sand\\n    hue = 0.1;\\n    saturation = 0.4 + (age * 0.3);\\n    lightness = 1.0 - energy * 0.5;\\n\\n  } else if (type == 3) { // Water\\n    hue = 0.58;\\n    saturation = 0.6;\\n    lightness = 0.5 + energy * 0.25 + noise * 0.1;\\n    a = 0.4;\\n    if (isSnapshot) {\\n      a = 1.0;\\n    }\\n  } else if (type == 4) { // Algae\\n    hue = 0.4 - age * 0.3;\\n    lightness += 0.1;\\n    saturation = 0.5 - (energy * .1);\\n    a = 0.8;\\n  } else if (type == 5) { // Plant\\n    hue = 0.4;\\n    saturation = 0.4;\\n\\n    if (energy > 45. / 255.) {\\n      hue = 0.48;\\n    }\\n    if (age == 0.) {\\n      // saturation = 0.9;\\n    }\\n    lightness = 0.2 + (1.0 - energy) * 0.4;\\n\\n  } else if (type == 6) { // Zoop\\n    hue = 0.9;\\n    lightness += 0.7;\\n  } else if (type == 7) { // Fish\\n    hue = 0.0;\\n    lightness += 0.4;\\n  } else if (type == 8) { // Bacteria\\n    hue = 0.66;\\n    saturation += 0.2;\\n    lightness += 0.2;\\n    a = 0.4;\\n    if (isSnapshot) {\\n      // lightness += 0.8;\\n      saturation -= 0.2;\\n\\n      a = 1.0;\\n    }\\n\\n  } else if (type == 9) { // ???\\n    hue = 0.6;\\n    saturation = 0.4;\\n    lightness = 0.7 + data.g * 0.5;\\n  } else if (type == 10) { // Waste\\n    hue = 0.9;\\n    lightness -= 0.2;\\n    saturation = 0.4;\\n    a = 0.8;\\n  } else if (type == 11) { // Grass\\n    hue = 0.4;\\n    saturation = 0.4;\\n  } else if (type == 12) { // Stone\\n    hue = -0.4 + (data.g * 0.5);\\n    saturation = 0.1;\\n  } else if (type == 13) { // Wood\\n    hue = (data.g * 0.1);\\n    saturation = 0.3;\\n    lightness = 0.3 + data.g * 0.3;\\n  } else if (type == 14) { // Egg\\n    hue = 0.9;\\n    saturation = age / 3.;\\n    lightness = 1.0;\\n    a = 0.8;\\n\\n  } else if (type == 15) { // Tail\\n    hue += fract(age * 1.9 * 255. / 8.) * 0.2;\\n    lightness += 0.4;\\n    saturation -= (fract(age * 1.9 * 255. / 8.) - 0.1) * 0.7;\\n\\n    // saturation += fract(age * 255.*6.);\\n  } else if (type == 16) { // bubble\\n\\n    hue = 0.0;\\n    saturation = 0.1;\\n    lightness = 0.1;\\n    a = 0.0;\\n    if (isSnapshot) {\\n      saturation = 0.05;\\n      lightness = 1.01;\\n      a = 1.0;\\n    }\\n  } else if (type == 17) { // biofilm\\n    hue = 0.48;\\n    saturation = 0.6;\\n    lightness = 0.5 + energy * 0.25 + noise * 0.1;\\n    a = 0.4;\\n    if (isSnapshot) {\\n      a = 1.0;\\n    }\\n  } else if (type == 18) { // goldfish\\n    hue = 0.1;\\n    lightness += 0.3;\\n    saturation = 0.9;\\n  } else if (type == 19) { // goldfishtail\\n    hue = 0.1;\\n    hue += fract(age * 1.9 * 255. / 9.) * 0.1;\\n    lightness += 0.6;\\n    saturation = 0.9;\\n    saturation -= (fract(age * 1.9 * 255. / 7.) - 0.1) * 0.6;\\n  } else if (type == 20) { // plastic\\n    hue = 0.1;\\n    lightness += 0.5;\\n    saturation = 0.1;\\n  }\\n  lightness *= 0.85 + cos(skyTime * PI2) * 0.2;\\n\\n  // } else if (type == 16) { // oil\\n  //   hue = (data.g * 5.0) + t * .008;\\n\\n  //   saturation = 0.2;\\n  //   lightness = 0.3;\\n  // } else if (type == 17) { // Rocket\\n  //   hue = 0.0;\\n  //   saturation = 0.4 + data.b;\\n  //   lightness = 0.9;\\n  // } else if (type == 18) { // fungus\\n  //   hue = (data.g * 0.15) - 0.1;\\n  //   saturation = (data.g * 0.8) - 0.05;\\n\\n  //   // (data.g * 0.00);\\n  //   lightness = 1.5 - (data.g * 0.2);\\n  // } else if (type == 19) { // Grass/flower\\n\\n  //   hue = fract(fract(data.b * 2.) * 0.5) - 0.3;\\n  //   saturation = 0.7 * (data.g + 0.4) + data.b * 0.2;\\n  //   lightness = 0.9 * (data.g + 0.9);\\n  // }\\n  if (isSnapshot == false) {\\n    lightness *= (0.975 + snoise_0(floor(uv * resolution / dpi)) * 0.025);\\n  }\\n  lightness += lightValue / 2.;\\n  saturation = min(saturation, 1.0);\\n  lightness = min(lightness, 1.0);\\n  color = hsv2rgb(vec3(hue, saturation, lightness));\\n\\n  color += vec3(0.25, 0.25, 0.7) * 0.6 * (blueLightValue + lightSampleCell.b);\\n  a += blueLightValue + lightSampleCell.b;\\n  gl_FragColor = vec4(color, a);\\n  if (spriteValue.a > 0.) {\\n    vec4 spriteColor = spriteValue;\\n\\n    spriteColor.rgb *= ((lightValue) + 0.7);\\n    gl_FragColor = spriteColor;\\n  }\\n}\"","module.exports = \"precision highp float;\\n#define GLSLIFY 1\\nuniform float t;\\nuniform float i;\\nuniform float max_readings;\\nuniform float n_readings;\\nuniform float dpi;\\nuniform vec2 resolution;\\nuniform sampler2D data;\\n\\nvarying vec2 uv;\\n\\n// clang-format off\\nvec3 hsv2rgb(vec3 c) {\\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\\n}\\n\\n//\\n// Description : Array and textureless GLSL 2D/3D/4D simplex\\n//               noise functions.\\n//      Author : Ian McEwan, Ashima Arts.\\n//  Maintainer : ijm\\n//     Lastmod : 20110822 (ijm)\\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\\n//               Distributed under the MIT License. See LICENSE file.\\n//               https://github.com/ashima/webgl-noise\\n//\\n\\nvec3 mod289_1(vec3 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec4 mod289_1(vec4 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec4 permute_1(vec4 x) {\\n     return mod289_1(((x*34.0)+1.0)*x);\\n}\\n\\nvec4 taylorInvSqrt(vec4 r)\\n{\\n  return 1.79284291400159 - 0.85373472095314 * r;\\n}\\n\\nfloat snoise_1(vec3 v)\\n  {\\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\\n\\n// First corner\\n  vec3 i  = floor(v + dot(v, C.yyy) );\\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\\n\\n// Other corners\\n  vec3 g_0 = step(x0.yzx, x0.xyz);\\n  vec3 l = 1.0 - g_0;\\n  vec3 i1 = min( g_0.xyz, l.zxy );\\n  vec3 i2 = max( g_0.xyz, l.zxy );\\n\\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\\n  vec3 x1 = x0 - i1 + C.xxx;\\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\\n\\n// Permutations\\n  i = mod289_1(i);\\n  vec4 p = permute_1( permute_1( permute_1(\\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\\n\\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\\n  float n_ = 0.142857142857; // 1.0/7.0\\n  vec3  ns = n_ * D.wyz - D.xzx;\\n\\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\\n\\n  vec4 x_ = floor(j * ns.z);\\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\\n\\n  vec4 x = x_ *ns.x + ns.yyyy;\\n  vec4 y = y_ *ns.x + ns.yyyy;\\n  vec4 h = 1.0 - abs(x) - abs(y);\\n\\n  vec4 b0 = vec4( x.xy, y.xy );\\n  vec4 b1 = vec4( x.zw, y.zw );\\n\\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\\n  vec4 s0 = floor(b0)*2.0 + 1.0;\\n  vec4 s1 = floor(b1)*2.0 + 1.0;\\n  vec4 sh = -step(h, vec4(0.0));\\n\\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\\n\\n  vec3 p0 = vec3(a0.xy,h.x);\\n  vec3 p1 = vec3(a0.zw,h.y);\\n  vec3 p2 = vec3(a1.xy,h.z);\\n  vec3 p3 = vec3(a1.zw,h.w);\\n\\n//Normalise gradients\\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\\n  p0 *= norm.x;\\n  p1 *= norm.y;\\n  p2 *= norm.z;\\n  p3 *= norm.w;\\n\\n// Mix final noise value\\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\\n  m = m * m;\\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\\n                                dot(p2,x2), dot(p3,x3) ) );\\n  }\\n\\n//\\n// Description : Array and textureless GLSL 2D simplex noise function.\\n//      Author : Ian McEwan, Ashima Arts.\\n//  Maintainer : ijm\\n//     Lastmod : 20110822 (ijm)\\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\\n//               Distributed under the MIT License. See LICENSE file.\\n//               https://github.com/ashima/webgl-noise\\n//\\n\\nvec3 mod289_0(vec3 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec2 mod289_0(vec2 x) {\\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\\n}\\n\\nvec3 permute_0(vec3 x) {\\n  return mod289_0(((x*34.0)+1.0)*x);\\n}\\n\\nfloat snoise_0(vec2 v)\\n  {\\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\\n                      0.024390243902439); // 1.0 / 41.0\\n// First corner\\n  vec2 i  = floor(v + dot(v, C.yy) );\\n  vec2 x0 = v -   i + dot(i, C.xx);\\n\\n// Other corners\\n  vec2 i1;\\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\\n  //i1.y = 1.0 - i1.x;\\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\\n  // x1 = x0 - i1 + 1.0 * C.xx ;\\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\\n  vec4 x12 = x0.xyxy + C.xxzz;\\n  x12.xy -= i1;\\n\\n// Permutations\\n  i = mod289_0(i); // Avoid truncation effects in permutation\\n  vec3 p = permute_0( permute_0( i.y + vec3(0.0, i1.y, 1.0 ))\\n    + i.x + vec3(0.0, i1.x, 1.0 ));\\n\\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\\n  m = m*m ;\\n  m = m*m ;\\n\\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\\n\\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\\n  vec3 h = abs(x) - 0.5;\\n  vec3 ox = floor(x + 0.5);\\n  vec3 a0 = x - ox;\\n\\n// Normalise gradients implicitly by scaling m\\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\\n\\n// Compute final noise value at P\\n  vec3 g;\\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\\n  return 130.0 * dot(m, g);\\n}\\n\\nhighp float random(vec2 co)\\n{\\n    highp float a = 12.9898;\\n    highp float b = 78.233;\\n    highp float c = 43758.5453;\\n    highp float dt= dot(co.xy ,vec2(a,b));\\n    highp float sn= mod(dt,3.14);\\n    return fract(sin(sn) * c);\\n}\\n\\n// clang-format on\\n\\nvoid main() {\\n  vec3 color;\\n  vec2 grid = floor(uv * resolution / dpi);\\n  vec2 pixel = 1. / resolution;\\n  vec2 pos = (uv + vec2(1.0)) * 0.5;\\n\\n  // pos.x = fract(pos.x + i / max_readings);\\n  vec2 textCoord = vec2(pos.x, 0.5);\\n  //   vec2 textCoord = (uv * vec2(0.5, 0)) + vec2(0.5);\\n\\n  vec4 data = texture2D(data, textCoord);\\n  float v = data.x;\\n  float buckets = resolution.y / 4.;\\n  // discretized\\n  float dV = floor(v * buckets) / buckets;\\n  // float dVLeading = floor(data.a * buckets) / buckets;\\n\\n  float a = 1.0;\\n\\n  //   vec2 pos+= (i*4.)/max_readings;\\n  //   lightness = min(lightness, 1.0);\\n  gl_FragColor = vec4(0.98, 1., 0.98, 0.5);\\n\\n  //   if (\\n\\n  if (pos.x < n_readings / max_readings && abs(dV - pos.y) < pixel.y * 2.0) {\\n    gl_FragColor = vec4(hsv2rgb(vec3(-0.1 + v * 0.8, 0.5, 0.5)), 1.0);\\n\\n  } else if (abs((i / max_readings) - pos.x) < pixel.x * 4.\\n\\n             && abs(dV - pos.y) < pixel.y * 2.0 && dV > 0.) {\\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\n\\n  } else if (abs((pos.y - 0.5) * resolution.y) < 2.0 &&\\n             mod(pos.x * resolution.x, 8.0) > 4.0) {\\n    gl_FragColor = vec4(0., 0.1, 0., 0.4);\\n  }\\n\\n  //  else {\\n  // }\\n}\"","var map = {\n\t\"./100.ico\": 69,\n\t\"./8ball.ico\": 70,\n\t\"./TV.ico\": 71,\n\t\"./WinRep.ico\": 72,\n\t\"./accessibility_contrast.ico\": 73,\n\t\"./accessibility_kbd_mouse.ico\": 74,\n\t\"./accessibility_two_windows.ico\": 75,\n\t\"./accessibility_window_objs.ico\": 76,\n\t\"./active_movie.ico\": 77,\n\t\"./address_book.ico\": 78,\n\t\"./address_book_home.ico\": 79,\n\t\"./address_book_pad.ico\": 80,\n\t\"./address_book_user.ico\": 81,\n\t\"./alien2.ico\": 82,\n\t\"./anchor.ico\": 83,\n\t\"./apple.ico\": 84,\n\t\"./armchair.ico\": 85,\n\t\"./ball.ico\": 86,\n\t\"./banana.ico\": 87,\n\t\"./bart.ico\": 88,\n\t\"./baseball.ico\": 89,\n\t\"./battery.ico\": 90,\n\t\"./bee.ico\": 91,\n\t\"./bone.ico\": 92,\n\t\"./bow.ico\": 93,\n\t\"./briefcase.ico\": 94,\n\t\"./bust.ico\": 95,\n\t\"./c-clamp.ico\": 96,\n\t\"./cactus.ico\": 97,\n\t\"./calculator.ico\": 98,\n\t\"./calendar.ico\": 99,\n\t\"./camera.ico\": 100,\n\t\"./camera2.ico\": 101,\n\t\"./camera3.ico\": 102,\n\t\"./camera3_vid.ico\": 103,\n\t\"./camera_2.ico\": 104,\n\t\"./camera_vid.ico\": 105,\n\t\"./carrot.ico\": 106,\n\t\"./cassette_tape.ico\": 107,\n\t\"./castle.ico\": 108,\n\t\"./castle2.ico\": 109,\n\t\"./caution.ico\": 110,\n\t\"./cd_audio_cd.ico\": 111,\n\t\"./cd_audio_cd_a.ico\": 112,\n\t\"./cd_drive.ico\": 113,\n\t\"./cd_drive_purple.ico\": 114,\n\t\"./certificate_seal.ico\": 115,\n\t\"./chair.ico\": 116,\n\t\"./chamomile.ico\": 117,\n\t\"./channels.ico\": 118,\n\t\"./chart1.ico\": 119,\n\t\"./cherry.ico\": 120,\n\t\"./cherryblossom.ico\": 121,\n\t\"./chip_ramdrive.ico\": 122,\n\t\"./clean_drive.ico\": 123,\n\t\"./clock.ico\": 124,\n\t\"./coin.ico\": 125,\n\t\"./computer.ico\": 126,\n\t\"./computer2.ico\": 127,\n\t\"./computer_2.ico\": 128,\n\t\"./computer_2_cool.ico\": 129,\n\t\"./computer_explorer.ico\": 130,\n\t\"./computer_explorer_2k.ico\": 131,\n\t\"./computer_explorer_cool.ico\": 132,\n\t\"./computer_gear.ico\": 133,\n\t\"./computer_padlock.ico\": 134,\n\t\"./computer_search.ico\": 135,\n\t\"./computer_taskmgr.ico\": 136,\n\t\"./computer_win.ico\": 137,\n\t\"./controller.ico\": 138,\n\t\"./crown.ico\": 139,\n\t\"./crucifix.ico\": 140,\n\t\"./cube.ico\": 141,\n\t\"./cubeblue.ico\": 142,\n\t\"./cursor.ico\": 143,\n\t\"./cylinder_database.ico\": 144,\n\t\"./dead.ico\": 145,\n\t\"./defragment.ico\": 146,\n\t\"./desktop_old.ico\": 147,\n\t\"./desktop_w95.ico\": 148,\n\t\"./dice2.ico\": 149,\n\t\"./dinoegg.ico\": 150,\n\t\"./directory_closed.ico\": 151,\n\t\"./directory_closed_cool.ico\": 152,\n\t\"./directory_explorer.ico\": 153,\n\t\"./directory_open.ico\": 154,\n\t\"./directory_open_cabinet.ico\": 155,\n\t\"./directory_open_cabinet_fc.ico\": 156,\n\t\"./directory_open_cool.ico\": 157,\n\t\"./directory_open_file_mydocs_cool.ico\": 158,\n\t\"./directory_open_file_mydocs_small.ico\": 159,\n\t\"./directory_shared.ico\": 160,\n\t\"./directory_web.ico\": 161,\n\t\"./directory_zipper.ico\": 162,\n\t\"./disc.ico\": 163,\n\t\"./display_properties.ico\": 164,\n\t\"./dna.ico\": 165,\n\t\"./dollar.ico\": 166,\n\t\"./donut.ico\": 167,\n\t\"./drum_onestick.ico\": 168,\n\t\"./earth.ico\": 169,\n\t\"./egg.ico\": 170,\n\t\"./eiffel.ico\": 171,\n\t\"./elephant.ico\": 172,\n\t\"./entire_network_globe.ico\": 173,\n\t\"./envelope_closed.ico\": 174,\n\t\"./expand_hierarchial_array.ico\": 175,\n\t\"./expansion_board.ico\": 176,\n\t\"./expansion_board_modem.ico\": 177,\n\t\"./eyeball.ico\": 178,\n\t\"./fax_machine.ico\": 179,\n\t\"./flower.ico\": 180,\n\t\"./folder.ico\": 181,\n\t\"./frame_web.ico\": 182,\n\t\"./game_freecell.ico\": 183,\n\t\"./game_mine_1.ico\": 184,\n\t\"./game_mine_2.ico\": 185,\n\t\"./game_solitaire.ico\": 186,\n\t\"./game_spider.ico\": 187,\n\t\"./gameboy.ico\": 188,\n\t\"./gears.ico\": 189,\n\t\"./gears_tweakui_b.ico\": 190,\n\t\"./gem1.ico\": 191,\n\t\"./gem2.ico\": 192,\n\t\"./glasses3d.ico\": 193,\n\t\"./globe_map.ico\": 194,\n\t\"./gps.ico\": 195,\n\t\"./grave.ico\": 196,\n\t\"./hard_disk_drive.ico\": 197,\n\t\"./hard_disk_drives.ico\": 198,\n\t\"./hardware.ico\": 199,\n\t\"./heartPastel.ico\": 200,\n\t\"./heel.ico\": 201,\n\t\"./help_book_big.ico\": 202,\n\t\"./help_book_cool.ico\": 203,\n\t\"./help_book_cool_small.ico\": 204,\n\t\"./help_book_small.ico\": 205,\n\t\"./help_question_mark.ico\": 206,\n\t\"./herb.ico\": 207,\n\t\"./hibiscus.ico\": 208,\n\t\"./history.ico\": 209,\n\t\"./horse.ico\": 210,\n\t\"./infrared.ico\": 211,\n\t\"./input_devices.ico\": 212,\n\t\"./installer.ico\": 213,\n\t\"./installer_generic_old.ico\": 214,\n\t\"./internet_connection_wiz.ico\": 215,\n\t\"./internet_options_old_e.ico\": 216,\n\t\"./ipad.ico\": 217,\n\t\"./itunes.ico\": 218,\n\t\"./jasmineflower.ico\": 219,\n\t\"./joystick.ico\": 220,\n\t\"./joystick_alt.ico\": 221,\n\t\"./key.ico\": 222,\n\t\"./key_gray.ico\": 223,\n\t\"./key_padlock.ico\": 224,\n\t\"./key_win_alt.ico\": 225,\n\t\"./keyboard.ico\": 226,\n\t\"./keyboard_musical.ico\": 227,\n\t\"./keyboard_musical_midi.ico\": 228,\n\t\"./keys.ico\": 229,\n\t\"./keys2.ico\": 230,\n\t\"./kodak_imaging.ico\": 231,\n\t\"./laptop.ico\": 232,\n\t\"./laptop_small.ico\": 233,\n\t\"./lemon.ico\": 234,\n\t\"./lighter.ico\": 235,\n\t\"./lips.ico\": 236,\n\t\"./magnifying_glass.ico\": 237,\n\t\"./magnifying_glass_3.ico\": 238,\n\t\"./magnifying_glass_4.ico\": 239,\n\t\"./mailbox_world.ico\": 240,\n\t\"./marble.ico\": 241,\n\t\"./media_player.ico\": 242,\n\t\"./media_player_stream_sun0.ico\": 243,\n\t\"./media_player_stream_sun4.ico\": 244,\n\t\"./memory.ico\": 245,\n\t\"./mess.ico\": 246,\n\t\"./message_envelope_open.ico\": 247,\n\t\"./message_file.ico\": 248,\n\t\"./message_tack.ico\": 249,\n\t\"./mic.ico\": 250,\n\t\"./microphone.ico\": 251,\n\t\"./microphone_2.ico\": 252,\n\t\"./minesweeper.ico\": 253,\n\t\"./modem.ico\": 254,\n\t\"./monitor_application.ico\": 255,\n\t\"./monitor_moon.ico\": 256,\n\t\"./monitor_windows.ico\": 257,\n\t\"./moon.ico\": 258,\n\t\"./mouse.ico\": 259,\n\t\"./mouse2.ico\": 260,\n\t\"./mouse_ms.ico\": 261,\n\t\"./mouse_padlock.ico\": 262,\n\t\"./mouse_snap.ico\": 263,\n\t\"./movie_maker.ico\": 264,\n\t\"./msg_warning.ico\": 265,\n\t\"./msie1.ico\": 266,\n\t\"./msie2.ico\": 267,\n\t\"./msie_box.ico\": 268,\n\t\"./msinfo32.ico\": 269,\n\t\"./msn.ico\": 270,\n\t\"./msn2.ico\": 271,\n\t\"./msn3.ico\": 272,\n\t\"./msn_cool.ico\": 273,\n\t\"./mug.ico\": 274,\n\t\"./music.ico\": 275,\n\t\"./nasa.ico\": 276,\n\t\"./nautilus.ico\": 277,\n\t\"./netmeeting.ico\": 278,\n\t\"./netmeeting_share.ico\": 279,\n\t\"./netshow.ico\": 280,\n\t\"./netshow_notransm.ico\": 281,\n\t\"./network_cool_two_pcs.ico\": 282,\n\t\"./network_internet_pcs_installer.ico\": 283,\n\t\"./network_normal_two_pcs.ico\": 284,\n\t\"./network_televisons.ico\": 285,\n\t\"./network_three_pcs.ico\": 286,\n\t\"./newspaper.ico\": 287,\n\t\"./newspaper_mail.ico\": 288,\n\t\"./note.ico\": 289,\n\t\"./notepad.ico\": 290,\n\t\"./notepad_file.ico\": 291,\n\t\"./officechair.ico\": 292,\n\t\"./onigiri.ico\": 293,\n\t\"./orb.ico\": 294,\n\t\"./paint.ico\": 295,\n\t\"./paint_file.ico\": 296,\n\t\"./paint_old.ico\": 297,\n\t\"./paintbrush.ico\": 298,\n\t\"./palm_computer.ico\": 299,\n\t\"./palmtree.ico\": 300,\n\t\"./paper_roll.ico\": 301,\n\t\"./pawn.ico\": 302,\n\t\"./pci_card.ico\": 303,\n\t\"./pci_card_alt.ico\": 304,\n\t\"./pcx.ico\": 305,\n\t\"./pcx_alt.ico\": 306,\n\t\"./peach.ico\": 307,\n\t\"./pencil.ico\": 308,\n\t\"./phone_desk.ico\": 309,\n\t\"./pictures.ico\": 310,\n\t\"./pie_chart_drvspace.ico\": 311,\n\t\"./pifedit.ico\": 312,\n\t\"./pin.ico\": 313,\n\t\"./pineapple.ico\": 314,\n\t\"./pizza2.ico\": 315,\n\t\"./pokeball.ico\": 316,\n\t\"./pot.ico\": 317,\n\t\"./prideflag.ico\": 318,\n\t\"./printer.ico\": 319,\n\t\"./processor.ico\": 320,\n\t\"./ps2.ico\": 321,\n\t\"./pyramid.ico\": 322,\n\t\"./rainbow.ico\": 323,\n\t\"./ram_drive.ico\": 324,\n\t\"./recycle_bin_directory.ico\": 325,\n\t\"./recycle_bin_empty.ico\": 326,\n\t\"./recycle_bin_empty_2k.ico\": 327,\n\t\"./recycle_bin_empty_cool.ico\": 328,\n\t\"./recycle_bin_file.ico\": 329,\n\t\"./recycle_bin_file_directory.ico\": 330,\n\t\"./recycle_bin_full.ico\": 331,\n\t\"./recycle_bin_full_2k.ico\": 332,\n\t\"./recycle_bin_full_cool.ico\": 333,\n\t\"./regedit.ico\": 334,\n\t\"./regedit_file.ico\": 335,\n\t\"./registration.ico\": 336,\n\t\"./removable_disk_drive.ico\": 337,\n\t\"./removable_disk_drive_alt.ico\": 338,\n\t\"./replace_directory.ico\": 339,\n\t\"./ring.ico\": 340,\n\t\"./saturn.ico\": 341,\n\t\"./sauron.ico\": 342,\n\t\"./scandisk.ico\": 343,\n\t\"./scanner.ico\": 344,\n\t\"./scanner_alt.ico\": 345,\n\t\"./scanner_alt_network.ico\": 346,\n\t\"./scanner_video_cam.ico\": 347,\n\t\"./scanregw.ico\": 348,\n\t\"./screen_keyboard.ico\": 349,\n\t\"./search_computer.ico\": 350,\n\t\"./search_file.ico\": 351,\n\t\"./search_file_2.ico\": 352,\n\t\"./search_file_2_cool.ico\": 353,\n\t\"./search_file_3.ico\": 354,\n\t\"./search_laptop_2.ico\": 355,\n\t\"./search_web.ico\": 356,\n\t\"./server_gear.ico\": 357,\n\t\"./server_window.ico\": 358,\n\t\"./settings_gear.ico\": 359,\n\t\"./settings_gear_cool.ico\": 360,\n\t\"./shell_window1.ico\": 361,\n\t\"./shell_window2.ico\": 362,\n\t\"./ship.ico\": 363,\n\t\"./shut_down_cool.ico\": 364,\n\t\"./shut_down_normal.ico\": 365,\n\t\"./shut_down_with_computer.ico\": 366,\n\t\"./sims.ico\": 367,\n\t\"./skull.ico\": 368,\n\t\"./sparkle.ico\": 369,\n\t\"./sparkleheart.ico\": 370,\n\t\"./spider.ico\": 371,\n\t\"./spinner.ico\": 372,\n\t\"./squash.ico\": 373,\n\t\"./standby_monitor_moon.ico\": 374,\n\t\"./standby_monitor_moon_cool.ico\": 375,\n\t\"./statue.ico\": 376,\n\t\"./sword.ico\": 377,\n\t\"./table.ico\": 378,\n\t\"./telephony.ico\": 379,\n\t\"./template_empty.ico\": 380,\n\t\"./tombone.ico\": 381,\n\t\"./tools_gear.ico\": 382,\n\t\"./tooth.ico\": 383,\n\t\"./trans.ico\": 384,\n\t\"./transfer.ico\": 385,\n\t\"./tree.ico\": 386,\n\t\"./trophy.ico\": 387,\n\t\"./true_type_paint.ico\": 388,\n\t\"./umbrella.ico\": 389,\n\t\"./usb.ico\": 390,\n\t\"./user_network.ico\": 391,\n\t\"./vlc.ico\": 392,\n\t\"./volleyball.ico\": 393,\n\t\"./whale.ico\": 394,\n\t\"./wia_img_color.ico\": 395,\n\t\"./windows.ico\": 396,\n\t\"./windows_button.ico\": 397,\n\t\"./windows_slanted.ico\": 398,\n\t\"./windows_update_large.ico\": 399,\n\t\"./windows_update_old.ico\": 400,\n\t\"./windows_update_small.ico\": 401,\n\t\"./wm.ico\": 402,\n\t\"./word.ico\": 403,\n\t\"./world.ico\": 404,\n\t\"./world_lock.ico\": 405,\n\t\"./world_phonereceiver.ico\": 406,\n\t\"./world_star.ico\": 407,\n\t\"./write_wordpad.ico\": 408,\n\t\"./write_yellow.ico\": 409,\n\t\"./xml.ico\": 410,\n\t\"./xml_gear.ico\": 411,\n\t\"./yin-yang.ico\": 412\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 68;","module.exports = __webpack_public_path__ + \"ico/100.ico\";","module.exports = __webpack_public_path__ + \"ico/8ball.ico\";","module.exports = __webpack_public_path__ + \"ico/TV.ico\";","module.exports = __webpack_public_path__ + \"ico/WinRep.ico\";","module.exports = __webpack_public_path__ + \"ico/accessibility_contrast.ico\";","module.exports = __webpack_public_path__ + \"ico/accessibility_kbd_mouse.ico\";","module.exports = __webpack_public_path__ + \"ico/accessibility_two_windows.ico\";","module.exports = __webpack_public_path__ + \"ico/accessibility_window_objs.ico\";","module.exports = __webpack_public_path__ + \"ico/active_movie.ico\";","module.exports = __webpack_public_path__ + \"ico/address_book.ico\";","module.exports = __webpack_public_path__ + \"ico/address_book_home.ico\";","module.exports = __webpack_public_path__ + \"ico/address_book_pad.ico\";","module.exports = __webpack_public_path__ + \"ico/address_book_user.ico\";","module.exports = __webpack_public_path__ + \"ico/alien2.ico\";","module.exports = __webpack_public_path__ + \"ico/anchor.ico\";","module.exports = __webpack_public_path__ + \"ico/apple.ico\";","module.exports = __webpack_public_path__ + \"ico/armchair.ico\";","module.exports = __webpack_public_path__ + \"ico/ball.ico\";","module.exports = __webpack_public_path__ + \"ico/banana.ico\";","module.exports = __webpack_public_path__ + \"ico/bart.ico\";","module.exports = __webpack_public_path__ + \"ico/baseball.ico\";","module.exports = __webpack_public_path__ + \"ico/battery.ico\";","module.exports = __webpack_public_path__ + \"ico/bee.ico\";","module.exports = __webpack_public_path__ + \"ico/bone.ico\";","module.exports = __webpack_public_path__ + \"ico/bow.ico\";","module.exports = __webpack_public_path__ + \"ico/briefcase.ico\";","module.exports = __webpack_public_path__ + \"ico/bust.ico\";","module.exports = __webpack_public_path__ + \"ico/c-clamp.ico\";","module.exports = __webpack_public_path__ + \"ico/cactus.ico\";","module.exports = __webpack_public_path__ + \"ico/calculator.ico\";","module.exports = __webpack_public_path__ + \"ico/calendar.ico\";","module.exports = __webpack_public_path__ + \"ico/camera.ico\";","module.exports = __webpack_public_path__ + \"ico/camera2.ico\";","module.exports = __webpack_public_path__ + \"ico/camera3.ico\";","module.exports = __webpack_public_path__ + \"ico/camera3_vid.ico\";","module.exports = __webpack_public_path__ + \"ico/camera_2.ico\";","module.exports = __webpack_public_path__ + \"ico/camera_vid.ico\";","module.exports = __webpack_public_path__ + \"ico/carrot.ico\";","module.exports = __webpack_public_path__ + \"ico/cassette_tape.ico\";","module.exports = __webpack_public_path__ + \"ico/castle.ico\";","module.exports = __webpack_public_path__ + \"ico/castle2.ico\";","module.exports = __webpack_public_path__ + \"ico/caution.ico\";","module.exports = __webpack_public_path__ + \"ico/cd_audio_cd.ico\";","module.exports = __webpack_public_path__ + \"ico/cd_audio_cd_a.ico\";","module.exports = __webpack_public_path__ + \"ico/cd_drive.ico\";","module.exports = __webpack_public_path__ + \"ico/cd_drive_purple.ico\";","module.exports = __webpack_public_path__ + \"ico/certificate_seal.ico\";","module.exports = __webpack_public_path__ + \"ico/chair.ico\";","module.exports = __webpack_public_path__ + \"ico/chamomile.ico\";","module.exports = __webpack_public_path__ + \"ico/channels.ico\";","module.exports = __webpack_public_path__ + \"ico/chart1.ico\";","module.exports = __webpack_public_path__ + \"ico/cherry.ico\";","module.exports = __webpack_public_path__ + \"ico/cherryblossom.ico\";","module.exports = __webpack_public_path__ + \"ico/chip_ramdrive.ico\";","module.exports = __webpack_public_path__ + \"ico/clean_drive.ico\";","module.exports = __webpack_public_path__ + \"ico/clock.ico\";","module.exports = __webpack_public_path__ + \"ico/coin.ico\";","module.exports = __webpack_public_path__ + \"ico/computer.ico\";","module.exports = __webpack_public_path__ + \"ico/computer2.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_2.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_2_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_explorer.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_explorer_2k.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_explorer_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_gear.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_padlock.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_search.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_taskmgr.ico\";","module.exports = __webpack_public_path__ + \"ico/computer_win.ico\";","module.exports = __webpack_public_path__ + \"ico/controller.ico\";","module.exports = __webpack_public_path__ + \"ico/crown.ico\";","module.exports = __webpack_public_path__ + \"ico/crucifix.ico\";","module.exports = __webpack_public_path__ + \"ico/cube.ico\";","module.exports = __webpack_public_path__ + \"ico/cubeblue.ico\";","module.exports = __webpack_public_path__ + \"ico/cursor.ico\";","module.exports = __webpack_public_path__ + \"ico/cylinder_database.ico\";","module.exports = __webpack_public_path__ + \"ico/dead.ico\";","module.exports = __webpack_public_path__ + \"ico/defragment.ico\";","module.exports = __webpack_public_path__ + \"ico/desktop_old.ico\";","module.exports = __webpack_public_path__ + \"ico/desktop_w95.ico\";","module.exports = __webpack_public_path__ + \"ico/dice2.ico\";","module.exports = __webpack_public_path__ + \"ico/dinoegg.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_closed.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_closed_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_explorer.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_open.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_open_cabinet.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_open_cabinet_fc.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_open_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_open_file_mydocs_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_open_file_mydocs_small.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_shared.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_web.ico\";","module.exports = __webpack_public_path__ + \"ico/directory_zipper.ico\";","module.exports = __webpack_public_path__ + \"ico/disc.ico\";","module.exports = __webpack_public_path__ + \"ico/display_properties.ico\";","module.exports = __webpack_public_path__ + \"ico/dna.ico\";","module.exports = __webpack_public_path__ + \"ico/dollar.ico\";","module.exports = __webpack_public_path__ + \"ico/donut.ico\";","module.exports = __webpack_public_path__ + \"ico/drum_onestick.ico\";","module.exports = __webpack_public_path__ + \"ico/earth.ico\";","module.exports = __webpack_public_path__ + \"ico/egg.ico\";","module.exports = __webpack_public_path__ + \"ico/eiffel.ico\";","module.exports = __webpack_public_path__ + \"ico/elephant.ico\";","module.exports = __webpack_public_path__ + \"ico/entire_network_globe.ico\";","module.exports = __webpack_public_path__ + \"ico/envelope_closed.ico\";","module.exports = __webpack_public_path__ + \"ico/expand_hierarchial_array.ico\";","module.exports = __webpack_public_path__ + \"ico/expansion_board.ico\";","module.exports = __webpack_public_path__ + \"ico/expansion_board_modem.ico\";","module.exports = __webpack_public_path__ + \"ico/eyeball.ico\";","module.exports = __webpack_public_path__ + \"ico/fax_machine.ico\";","module.exports = __webpack_public_path__ + \"ico/flower.ico\";","module.exports = __webpack_public_path__ + \"ico/folder.ico\";","module.exports = __webpack_public_path__ + \"ico/frame_web.ico\";","module.exports = __webpack_public_path__ + \"ico/game_freecell.ico\";","module.exports = __webpack_public_path__ + \"ico/game_mine_1.ico\";","module.exports = __webpack_public_path__ + \"ico/game_mine_2.ico\";","module.exports = __webpack_public_path__ + \"ico/game_solitaire.ico\";","module.exports = __webpack_public_path__ + \"ico/game_spider.ico\";","module.exports = __webpack_public_path__ + \"ico/gameboy.ico\";","module.exports = __webpack_public_path__ + \"ico/gears.ico\";","module.exports = __webpack_public_path__ + \"ico/gears_tweakui_b.ico\";","module.exports = __webpack_public_path__ + \"ico/gem1.ico\";","module.exports = __webpack_public_path__ + \"ico/gem2.ico\";","module.exports = __webpack_public_path__ + \"ico/glasses3d.ico\";","module.exports = __webpack_public_path__ + \"ico/globe_map.ico\";","module.exports = __webpack_public_path__ + \"ico/gps.ico\";","module.exports = __webpack_public_path__ + \"ico/grave.ico\";","module.exports = __webpack_public_path__ + \"ico/hard_disk_drive.ico\";","module.exports = __webpack_public_path__ + \"ico/hard_disk_drives.ico\";","module.exports = __webpack_public_path__ + \"ico/hardware.ico\";","module.exports = __webpack_public_path__ + \"ico/heartPastel.ico\";","module.exports = __webpack_public_path__ + \"ico/heel.ico\";","module.exports = __webpack_public_path__ + \"ico/help_book_big.ico\";","module.exports = __webpack_public_path__ + \"ico/help_book_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/help_book_cool_small.ico\";","module.exports = __webpack_public_path__ + \"ico/help_book_small.ico\";","module.exports = __webpack_public_path__ + \"ico/help_question_mark.ico\";","module.exports = __webpack_public_path__ + \"ico/herb.ico\";","module.exports = __webpack_public_path__ + \"ico/hibiscus.ico\";","module.exports = __webpack_public_path__ + \"ico/history.ico\";","module.exports = __webpack_public_path__ + \"ico/horse.ico\";","module.exports = __webpack_public_path__ + \"ico/infrared.ico\";","module.exports = __webpack_public_path__ + \"ico/input_devices.ico\";","module.exports = __webpack_public_path__ + \"ico/installer.ico\";","module.exports = __webpack_public_path__ + \"ico/installer_generic_old.ico\";","module.exports = __webpack_public_path__ + \"ico/internet_connection_wiz.ico\";","module.exports = __webpack_public_path__ + \"ico/internet_options_old_e.ico\";","module.exports = __webpack_public_path__ + \"ico/ipad.ico\";","module.exports = __webpack_public_path__ + \"ico/itunes.ico\";","module.exports = __webpack_public_path__ + \"ico/jasmineflower.ico\";","module.exports = __webpack_public_path__ + \"ico/joystick.ico\";","module.exports = __webpack_public_path__ + \"ico/joystick_alt.ico\";","module.exports = __webpack_public_path__ + \"ico/key.ico\";","module.exports = __webpack_public_path__ + \"ico/key_gray.ico\";","module.exports = __webpack_public_path__ + \"ico/key_padlock.ico\";","module.exports = __webpack_public_path__ + \"ico/key_win_alt.ico\";","module.exports = __webpack_public_path__ + \"ico/keyboard.ico\";","module.exports = __webpack_public_path__ + \"ico/keyboard_musical.ico\";","module.exports = __webpack_public_path__ + \"ico/keyboard_musical_midi.ico\";","module.exports = __webpack_public_path__ + \"ico/keys.ico\";","module.exports = __webpack_public_path__ + \"ico/keys2.ico\";","module.exports = __webpack_public_path__ + \"ico/kodak_imaging.ico\";","module.exports = __webpack_public_path__ + \"ico/laptop.ico\";","module.exports = __webpack_public_path__ + \"ico/laptop_small.ico\";","module.exports = __webpack_public_path__ + \"ico/lemon.ico\";","module.exports = __webpack_public_path__ + \"ico/lighter.ico\";","module.exports = __webpack_public_path__ + \"ico/lips.ico\";","module.exports = __webpack_public_path__ + \"ico/magnifying_glass.ico\";","module.exports = __webpack_public_path__ + \"ico/magnifying_glass_3.ico\";","module.exports = __webpack_public_path__ + \"ico/magnifying_glass_4.ico\";","module.exports = __webpack_public_path__ + \"ico/mailbox_world.ico\";","module.exports = __webpack_public_path__ + \"ico/marble.ico\";","module.exports = __webpack_public_path__ + \"ico/media_player.ico\";","module.exports = __webpack_public_path__ + \"ico/media_player_stream_sun0.ico\";","module.exports = __webpack_public_path__ + \"ico/media_player_stream_sun4.ico\";","module.exports = __webpack_public_path__ + \"ico/memory.ico\";","module.exports = __webpack_public_path__ + \"ico/mess.ico\";","module.exports = __webpack_public_path__ + \"ico/message_envelope_open.ico\";","module.exports = __webpack_public_path__ + \"ico/message_file.ico\";","module.exports = __webpack_public_path__ + \"ico/message_tack.ico\";","module.exports = __webpack_public_path__ + \"ico/mic.ico\";","module.exports = __webpack_public_path__ + \"ico/microphone.ico\";","module.exports = __webpack_public_path__ + \"ico/microphone_2.ico\";","module.exports = __webpack_public_path__ + \"ico/minesweeper.ico\";","module.exports = __webpack_public_path__ + \"ico/modem.ico\";","module.exports = __webpack_public_path__ + \"ico/monitor_application.ico\";","module.exports = __webpack_public_path__ + \"ico/monitor_moon.ico\";","module.exports = __webpack_public_path__ + \"ico/monitor_windows.ico\";","module.exports = __webpack_public_path__ + \"ico/moon.ico\";","module.exports = __webpack_public_path__ + \"ico/mouse.ico\";","module.exports = __webpack_public_path__ + \"ico/mouse2.ico\";","module.exports = __webpack_public_path__ + \"ico/mouse_ms.ico\";","module.exports = __webpack_public_path__ + \"ico/mouse_padlock.ico\";","module.exports = __webpack_public_path__ + \"ico/mouse_snap.ico\";","module.exports = __webpack_public_path__ + \"ico/movie_maker.ico\";","module.exports = __webpack_public_path__ + \"ico/msg_warning.ico\";","module.exports = __webpack_public_path__ + \"ico/msie1.ico\";","module.exports = __webpack_public_path__ + \"ico/msie2.ico\";","module.exports = __webpack_public_path__ + \"ico/msie_box.ico\";","module.exports = __webpack_public_path__ + \"ico/msinfo32.ico\";","module.exports = __webpack_public_path__ + \"ico/msn.ico\";","module.exports = __webpack_public_path__ + \"ico/msn2.ico\";","module.exports = __webpack_public_path__ + \"ico/msn3.ico\";","module.exports = __webpack_public_path__ + \"ico/msn_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/mug.ico\";","module.exports = __webpack_public_path__ + \"ico/music.ico\";","module.exports = __webpack_public_path__ + \"ico/nasa.ico\";","module.exports = __webpack_public_path__ + \"ico/nautilus.ico\";","module.exports = __webpack_public_path__ + \"ico/netmeeting.ico\";","module.exports = __webpack_public_path__ + \"ico/netmeeting_share.ico\";","module.exports = __webpack_public_path__ + \"ico/netshow.ico\";","module.exports = __webpack_public_path__ + \"ico/netshow_notransm.ico\";","module.exports = __webpack_public_path__ + \"ico/network_cool_two_pcs.ico\";","module.exports = __webpack_public_path__ + \"ico/network_internet_pcs_installer.ico\";","module.exports = __webpack_public_path__ + \"ico/network_normal_two_pcs.ico\";","module.exports = __webpack_public_path__ + \"ico/network_televisons.ico\";","module.exports = __webpack_public_path__ + \"ico/network_three_pcs.ico\";","module.exports = __webpack_public_path__ + \"ico/newspaper.ico\";","module.exports = __webpack_public_path__ + \"ico/newspaper_mail.ico\";","module.exports = __webpack_public_path__ + \"ico/note.ico\";","module.exports = __webpack_public_path__ + \"ico/notepad.ico\";","module.exports = __webpack_public_path__ + \"ico/notepad_file.ico\";","module.exports = __webpack_public_path__ + \"ico/officechair.ico\";","module.exports = __webpack_public_path__ + \"ico/onigiri.ico\";","module.exports = __webpack_public_path__ + \"ico/orb.ico\";","module.exports = __webpack_public_path__ + \"ico/paint.ico\";","module.exports = __webpack_public_path__ + \"ico/paint_file.ico\";","module.exports = __webpack_public_path__ + \"ico/paint_old.ico\";","module.exports = __webpack_public_path__ + \"ico/paintbrush.ico\";","module.exports = __webpack_public_path__ + \"ico/palm_computer.ico\";","module.exports = __webpack_public_path__ + \"ico/palmtree.ico\";","module.exports = __webpack_public_path__ + \"ico/paper_roll.ico\";","module.exports = __webpack_public_path__ + \"ico/pawn.ico\";","module.exports = __webpack_public_path__ + \"ico/pci_card.ico\";","module.exports = __webpack_public_path__ + \"ico/pci_card_alt.ico\";","module.exports = __webpack_public_path__ + \"ico/pcx.ico\";","module.exports = __webpack_public_path__ + \"ico/pcx_alt.ico\";","module.exports = __webpack_public_path__ + \"ico/peach.ico\";","module.exports = __webpack_public_path__ + \"ico/pencil.ico\";","module.exports = __webpack_public_path__ + \"ico/phone_desk.ico\";","module.exports = __webpack_public_path__ + \"ico/pictures.ico\";","module.exports = __webpack_public_path__ + \"ico/pie_chart_drvspace.ico\";","module.exports = __webpack_public_path__ + \"ico/pifedit.ico\";","module.exports = __webpack_public_path__ + \"ico/pin.ico\";","module.exports = __webpack_public_path__ + \"ico/pineapple.ico\";","module.exports = __webpack_public_path__ + \"ico/pizza2.ico\";","module.exports = __webpack_public_path__ + \"ico/pokeball.ico\";","module.exports = __webpack_public_path__ + \"ico/pot.ico\";","module.exports = __webpack_public_path__ + \"ico/prideflag.ico\";","module.exports = __webpack_public_path__ + \"ico/printer.ico\";","module.exports = __webpack_public_path__ + \"ico/processor.ico\";","module.exports = __webpack_public_path__ + \"ico/ps2.ico\";","module.exports = __webpack_public_path__ + \"ico/pyramid.ico\";","module.exports = __webpack_public_path__ + \"ico/rainbow.ico\";","module.exports = __webpack_public_path__ + \"ico/ram_drive.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_directory.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_empty.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_empty_2k.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_empty_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_file.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_file_directory.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_full.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_full_2k.ico\";","module.exports = __webpack_public_path__ + \"ico/recycle_bin_full_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/regedit.ico\";","module.exports = __webpack_public_path__ + \"ico/regedit_file.ico\";","module.exports = __webpack_public_path__ + \"ico/registration.ico\";","module.exports = __webpack_public_path__ + \"ico/removable_disk_drive.ico\";","module.exports = __webpack_public_path__ + \"ico/removable_disk_drive_alt.ico\";","module.exports = __webpack_public_path__ + \"ico/replace_directory.ico\";","module.exports = __webpack_public_path__ + \"ico/ring.ico\";","module.exports = __webpack_public_path__ + \"ico/saturn.ico\";","module.exports = __webpack_public_path__ + \"ico/sauron.ico\";","module.exports = __webpack_public_path__ + \"ico/scandisk.ico\";","module.exports = __webpack_public_path__ + \"ico/scanner.ico\";","module.exports = __webpack_public_path__ + \"ico/scanner_alt.ico\";","module.exports = __webpack_public_path__ + \"ico/scanner_alt_network.ico\";","module.exports = __webpack_public_path__ + \"ico/scanner_video_cam.ico\";","module.exports = __webpack_public_path__ + \"ico/scanregw.ico\";","module.exports = __webpack_public_path__ + \"ico/screen_keyboard.ico\";","module.exports = __webpack_public_path__ + \"ico/search_computer.ico\";","module.exports = __webpack_public_path__ + \"ico/search_file.ico\";","module.exports = __webpack_public_path__ + \"ico/search_file_2.ico\";","module.exports = __webpack_public_path__ + \"ico/search_file_2_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/search_file_3.ico\";","module.exports = __webpack_public_path__ + \"ico/search_laptop_2.ico\";","module.exports = __webpack_public_path__ + \"ico/search_web.ico\";","module.exports = __webpack_public_path__ + \"ico/server_gear.ico\";","module.exports = __webpack_public_path__ + \"ico/server_window.ico\";","module.exports = __webpack_public_path__ + \"ico/settings_gear.ico\";","module.exports = __webpack_public_path__ + \"ico/settings_gear_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/shell_window1.ico\";","module.exports = __webpack_public_path__ + \"ico/shell_window2.ico\";","module.exports = __webpack_public_path__ + \"ico/ship.ico\";","module.exports = __webpack_public_path__ + \"ico/shut_down_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/shut_down_normal.ico\";","module.exports = __webpack_public_path__ + \"ico/shut_down_with_computer.ico\";","module.exports = __webpack_public_path__ + \"ico/sims.ico\";","module.exports = __webpack_public_path__ + \"ico/skull.ico\";","module.exports = __webpack_public_path__ + \"ico/sparkle.ico\";","module.exports = __webpack_public_path__ + \"ico/sparkleheart.ico\";","module.exports = __webpack_public_path__ + \"ico/spider.ico\";","module.exports = __webpack_public_path__ + \"ico/spinner.ico\";","module.exports = __webpack_public_path__ + \"ico/squash.ico\";","module.exports = __webpack_public_path__ + \"ico/standby_monitor_moon.ico\";","module.exports = __webpack_public_path__ + \"ico/standby_monitor_moon_cool.ico\";","module.exports = __webpack_public_path__ + \"ico/statue.ico\";","module.exports = __webpack_public_path__ + \"ico/sword.ico\";","module.exports = __webpack_public_path__ + \"ico/table.ico\";","module.exports = __webpack_public_path__ + \"ico/telephony.ico\";","module.exports = __webpack_public_path__ + \"ico/template_empty.ico\";","module.exports = __webpack_public_path__ + \"ico/tombone.ico\";","module.exports = __webpack_public_path__ + \"ico/tools_gear.ico\";","module.exports = __webpack_public_path__ + \"ico/tooth.ico\";","module.exports = __webpack_public_path__ + \"ico/trans.ico\";","module.exports = __webpack_public_path__ + \"ico/transfer.ico\";","module.exports = __webpack_public_path__ + \"ico/tree.ico\";","module.exports = __webpack_public_path__ + \"ico/trophy.ico\";","module.exports = __webpack_public_path__ + \"ico/true_type_paint.ico\";","module.exports = __webpack_public_path__ + \"ico/umbrella.ico\";","module.exports = __webpack_public_path__ + \"ico/usb.ico\";","module.exports = __webpack_public_path__ + \"ico/user_network.ico\";","module.exports = __webpack_public_path__ + \"ico/vlc.ico\";","module.exports = __webpack_public_path__ + \"ico/volleyball.ico\";","module.exports = __webpack_public_path__ + \"ico/whale.ico\";","module.exports = __webpack_public_path__ + \"ico/wia_img_color.ico\";","module.exports = __webpack_public_path__ + \"ico/windows.ico\";","module.exports = __webpack_public_path__ + \"ico/windows_button.ico\";","module.exports = __webpack_public_path__ + \"ico/windows_slanted.ico\";","module.exports = __webpack_public_path__ + \"ico/windows_update_large.ico\";","module.exports = __webpack_public_path__ + \"ico/windows_update_old.ico\";","module.exports = __webpack_public_path__ + \"ico/windows_update_small.ico\";","module.exports = __webpack_public_path__ + \"ico/wm.ico\";","module.exports = __webpack_public_path__ + \"ico/word.ico\";","module.exports = __webpack_public_path__ + \"ico/world.ico\";","module.exports = __webpack_public_path__ + \"ico/world_lock.ico\";","module.exports = __webpack_public_path__ + \"ico/world_phonereceiver.ico\";","module.exports = __webpack_public_path__ + \"ico/world_star.ico\";","module.exports = __webpack_public_path__ + \"ico/write_wordpad.ico\";","module.exports = __webpack_public_path__ + \"ico/write_yellow.ico\";","module.exports = __webpack_public_path__ + \"ico/xml.ico\";","module.exports = __webpack_public_path__ + \"ico/xml_gear.ico\";","module.exports = __webpack_public_path__ + \"ico/yin-yang.ico\";","// if (window.safari) {\n//   history.pushState(null, null, location.href);\n//   window.onpopstate = function(event) {\n//     history.go(1);\n//   };\n// }\n\nlet background = document.getElementById(\"background\");\nlet fadeTimout = 1000 * 30;\nlet timeout = window.setTimeout(() => {\n  if (window.UI.state.tutorialProgress > 3) {\n    document.body.classList.add(\"faded\");\n  }\n}, fadeTimout);\n\nlet handleActivity = e => {\n  window.clearTimeout(timeout);\n  document.body.classList.remove(\"faded\");\n  timeout = window.setTimeout(() => {\n    if (window.UI.state.tutorialProgress > 3) {\n      document.body.classList.add(\"faded\");\n    }\n  }, fadeTimout);\n};\ndocument.body.addEventListener(\"mousemove\", handleActivity);\ndocument.body.addEventListener(\"touchstart\", handleActivity);\n\nbackground.addEventListener(\"touchmove\", e => {\n  if (!window.paused) {\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n  }\n});\n\n// if (\"serviceWorker\" in navigator) {\n//   window.addEventListener(\"load\", () => {\n//     navigator.serviceWorker\n//       .register(\"/service-worker.js\")\n//       .then(registration => {\n//         console.log(\"SW registered: \", registration);\n//       })\n//       .catch(registrationError => {\n//         console.log(\"SW registration failed: \", registrationError);\n//       });\n//   });\n// }\n","module.exports = \"#define GLSLIFY 1\\n// clang-format off\\n\\nuniform vec3 iResolution;\\nuniform float iGlobalTime, iTime, gameTime;\\nuniform sampler2D iChannel0;\\n// Appropriated with love & respect from:///\\n// The sun, the sky and the clouds. By StillTravelling\\n// https://www.shadertoy.com/view/tdSXzD\\n// Very much a messy hack sorry!!\\n\\n// Many Thank yous go to the below for their amazing work\\n// Day and night sky cycle. By László Matuska (@BitOfGold)\\n// Creates a sky texture for a skydome\\n// https://www.shadertoy.com/view/ltlSWB\\n\\n// Weather. By David Hoskins, May 2014.\\n// https://www.shadertoy.com/view/4dsXWn\\n\\n// Edge of atmosphere by dmytro rubalskyi (ruba)\\n// https://www.shadertoy.com/view/XlXGzB\\n\\n// Auroras by nimitz\\n// https://www.shadertoy.com/view/XtGGRt\\n\\n// Sorry to those I've missed out!!\\n\\n#define ORIG_CLOUD 0\\n#define ENABLE_RAIN 0 // enable rain drops on screen\\n#define SIMPLE_SUN 0\\n#define NICE_HACK_SUN 1\\n#define SOFT_SUN 1\\n#define cloudy 0.5 // 0.0 clear sky\\n#define haze 0.01 * (cloudy * 20.)\\n#define rainmulti 5.0 // makes clouds thicker\\n#define rainy (10.0 - rainmulti)\\n#define t iTime\\n#define fov tan(radians(60.0))\\n#define S(x, y, z) smoothstep(x, y, z)\\n#define cameraheight 5e1   // 50.\\n#define mincloudheight 5e3 // 5e3\\n#define maxcloudheight 10e3 // 8e3\\n#define xaxiscloud t * 5e2 // t*5e2 +t left -t right *speed\\n#define yaxiscloud 0.      // 0.\\n#define zaxiscloud t * 6e2 // t*6e2 +t away from horizon -t towards horizon *speed\\n#define cloudnoise 2e-4 // 2e-4\\n\\n// clang-format on\\n\\n//#define cloud2\\n\\n// Performance\\nconst int steps = 16;  // 16 is fast, 128 or 256 is extreme high\\nconst int stepss = 16; // 16 is fast, 16 or 32 is high\\n\\n// Environment\\nconst float R0 = 6360e3; // planet radius //6360e3 actual 6371km\\nconst float Ra = 6380e3; // atmosphere radius //6380e3 troposphere 8 to 14.5km\\nconst float I = 10.;     // sun light power, 10.0 is normal\\nconst float SI = 5.;     // sun intensity for sun\\nconst float g = 0.45;    // light concentration .76 //.45 //.6  .45 is normaL\\nconst float g2 = g * g;\\nconst float PI = 3.14159265358979323846;\\nconst float PI2 = 2. * 3.14159265358979323846;\\n\\nconst float ts = (cameraheight / 2.5e5);\\n\\nconst float s = 0.999; // light concentration for sun\\n#if SOFT_SUN\\nconst float s2 = s;\\n#else\\nconst float s2 = s * s;\\n#endif\\nconst float Hr = 8e3;   // Rayleigh scattering top //8e3\\nconst float Hm = 1.2e3; // Mie scattering top //1.3e3\\n\\nvec3 bM = vec3(21e-6); // normal mie // vec3(21e-6)\\n// vec3 bM = vec3(50e-6); //high mie\\n\\n// Rayleigh scattering (sky color, atmospheric up to 8km)\\nvec3 bR = vec3(5.8e-6, 13.5e-6, 33.1e-6); // normal earth\\n// vec3 bR = vec3(5.8e-6, 33.1e-6, 13.5e-6); //purple\\n// vec3 bR = vec3( 63.5e-6, 13.1e-6, 50.8e-6 ); //green\\n// vec3 bR = vec3( 13.5e-6, 23.1e-6, 115.8e-6 ); //yellow\\n// vec3 bR = vec3( 5.5e-6, 15.1e-6, 355.8e-6 ); //yeellow\\n// vec3 bR = vec3(3.5e-6, 333.1e-6, 235.8e-6 ); //red-purple\\n\\nvec3 C = vec3(0., -R0, 0.);             // planet center\\nvec3 Ds = normalize(vec3(0., 0., -1.)); // sun direction?\\n\\nfloat cloudyhigh = 0.05; // if cloud2 defined\\n\\n#if ORIG_CLOUD\\nfloat cloudnear =\\n    1.0; // 9e3 12e3  //do not render too close clouds on the zenith\\nfloat cloudfar = 1e3; // 15e3 17e3\\n#else\\nfloat cloudnear = 1.0; // 15e3 17e3\\nfloat cloudfar = 70e3; // 160e3  //do not render too close clouds on the horizon\\n                       // 160km should be max for cumulus\\n#endif\\n\\n// AURORA STUFF\\nmat2 mm2(in float a) {\\n  float c = cos(a);\\n  float s = sin(a);\\n  return mat2(c, s, -s, c);\\n}\\n\\nmat2 m2 = mat2(0.95534, 0.29552, -0.29552, 0.95534);\\n\\nfloat tri(in float x) { return clamp(abs(fract(x) - .5), 0.01, 0.49); }\\n\\nvec2 tri2(in vec2 p) { return vec2(tri(p.x) + tri(p.y), tri(p.y + tri(p.x))); }\\n\\nfloat triNoise2d(in vec2 p, float spd) {\\n  float z = 1.8;\\n  float z2 = 2.5;\\n  float rz = 0.;\\n  p *= mm2(p.x * 0.06);\\n  vec2 bp = p;\\n  for (float i = 0.; i < 5.; i++) {\\n    vec2 dg = tri2(bp * 1.85) * .75;\\n    dg *= mm2(t * spd);\\n    p -= dg / z2;\\n\\n    bp *= 1.3;\\n    z2 *= 1.45;\\n    z *= .42;\\n    p *= 1.21 + (rz - 1.0) * .02;\\n\\n    rz += tri(p.x + tri(p.y)) * z;\\n    p *= -m2;\\n  }\\n  return clamp(1. / pow(rz * 29., 1.3), 0., .55);\\n}\\n\\nfloat hash21(in vec2 n) {\\n  return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\\n}\\nvec4 aurora(vec3 ro, vec3 rd) {\\n  vec4 col = vec4(0);\\n  vec4 avgCol = vec4(0);\\n  ro *= 1e-5;\\n  float mt = 10.;\\n  for (float i = 0.; i < 5.; i++) {\\n    float of = 0.006 * hash21(gl_FragCoord.xy) * smoothstep(0., 15., i * mt);\\n    float pt = ((.8 + pow((i * mt), 1.2) * .001) - rd.y) / (rd.y * 2. + 0.4);\\n    pt -= of;\\n    vec3 bpos = (ro) + pt * rd;\\n    vec2 p = bpos.zx;\\n    // vec2 p = rd.zx;\\n    float rzt = triNoise2d(p, 0.1);\\n    vec4 col2 = vec4(0, 0, 0, rzt);\\n    col2.rgb =\\n        (sin(1. - vec3(2.15, -.5, 1.2) + (i * mt) * 0.053) * (0.5 * mt)) * rzt;\\n    avgCol = mix(avgCol, col2, .5);\\n    col += avgCol * exp2((-i * mt) * 0.04 - 2.5) * smoothstep(0., 5., i * mt);\\n  }\\n\\n  col *= (clamp(rd.y * 15. + .4, 0., 1.2));\\n  return col * 1.8;\\n}\\n\\n// END AURORA STUFF\\n\\nfloat noise(in vec2 v) {\\n  return 0.5;\\n  //    texture(iChannel0,(v+.5)/256., 0.).r * 0.01;\\n}\\n\\n// by iq\\nfloat Noise(in vec3 x) {\\n  vec3 p = floor(x);\\n  vec3 f = fract(x);\\n  f = f * f * (3.0 - 2.0 * f);\\n\\n  vec2 uv = (p.xy + vec2(37.0, 17.0) * p.z) + f.xy;\\n  vec2 rg = textureLod(iChannel0, (uv + 0.5) / 256.0, -100.0).yx;\\n  return mix(rg.x, rg.y, f.z);\\n}\\n\\nfloat fnoise(vec3 p, in float t) {\\n  p *= .25;\\n  float f;\\n\\n  f = 0.5000 * Noise(p);\\n  p = p * 3.02;\\n  p.y -= t * .1; // t*.05 speed cloud changes\\n  f += 0.2500 * Noise(p);\\n  p = p * 3.03;\\n  p.y += t * .06;\\n  f += 0.1250 * Noise(p);\\n  p = p * 3.01;\\n  f += 0.0625 * Noise(p);\\n  p = p * 3.03;\\n  f += 0.03125 * Noise(p);\\n  p = p * 3.02;\\n  f += 0.015625 * Noise(p);\\n  return f;\\n}\\n\\nfloat cloud(vec3 p, in float t) {\\n  float cld = fnoise(p * cloudnoise, t) + cloudy * 0.1;\\n  cld = smoothstep(.4 + .04, .6 + .04, cld);\\n  cld *= cld * (5.0 * rainmulti);\\n  return cld + haze;\\n}\\n\\nvoid densities(in vec3 pos, out float rayleigh, out float mie) {\\n  float h = length(pos - C) - R0;\\n  rayleigh = exp(-h / Hr);\\n  vec3 d = pos;\\n  d.y = 0.0;\\n  float dist = length(d);\\n\\n  float cld = 0.;\\n  if (mincloudheight < h && h < maxcloudheight) {\\n    // cld = cloud(pos+vec3(t*1e3,0., t*1e3),t)*cloudy;\\n    cld = cloud(pos + vec3(xaxiscloud, yaxiscloud, zaxiscloud), t) *\\n          cloudy; // direction and speed the cloud movers\\n    cld *= sin(3.1415 * (h - mincloudheight) / mincloudheight) * cloudy;\\n  }\\n#ifdef cloud2\\n  float cld2 = 0.;\\n  if (12e3 < h && h < 15.5e3) {\\n    cld2 = fnoise(pos * 3e-4, t) *\\n           cloud(pos * 32.0 + vec3(27612.3, 0., -t * 15e3), t);\\n    cld2 *= sin(3.1413 * (h - 12e3) / 12e3) * cloudyhigh;\\n    cld2 = clamp(cld2, 0.0, 1.0);\\n  }\\n\\n#endif\\n\\n#if ORIG_CLOUD\\n  if (dist < cloudfar) {\\n    float factor =\\n        clamp(1.0 - ((cloudfar - dist) / (cloudfar - cloudnear)), 0.0, 1.0);\\n    cld *= factor;\\n  }\\n#else\\n\\n  if (dist > cloudfar) {\\n\\n    float factor =\\n        clamp(1.0 - ((dist - cloudfar) / (cloudfar - cloudnear)), 0.0, 1.0);\\n    cld *= factor;\\n  }\\n#endif\\n\\n  mie = exp(-h / Hm) + cld + haze;\\n#ifdef cloud2\\n  mie += cld2;\\n#endif\\n}\\n\\nfloat escape(in vec3 p, in vec3 d, in float R) {\\n  vec3 v = p - C;\\n  float b = dot(v, d);\\n  float c = dot(v, v) - R * R;\\n  float det2 = b * b - c;\\n  if (det2 < 0.)\\n    return -1.;\\n  float det = sqrt(det2);\\n  float t1 = -b - det, t2 = -b + det;\\n  return (t1 >= 0.) ? t1 : t2;\\n}\\n\\n// this can be explained:\\n// http://www.scratchapixel.com/lessons/3d-advanced-lessons/simulating-the-colors-of-the-sky/atmospheric-scattering/\\nvoid scatter(vec3 o, vec3 d, out vec3 col, out vec3 scat, in float t) {\\n\\n  float L = escape(o, d, Ra);\\n  float mu = dot(d, Ds);\\n  float opmu2 = 1. + mu * mu;\\n  float phaseR = .0596831 * opmu2;\\n  float phaseM = .1193662 * (1. - g2) * opmu2 /\\n                 ((2. + g2) * pow(1. + g2 - 2. * g * mu, 1.5));\\n  float phaseS = .1193662 * (1. - s2) * opmu2 /\\n                 ((2. + s2) * pow(1. + s2 - 2. * s * mu, 1.5));\\n\\n  float depthR = 0., depthM = 0.;\\n  vec3 R = vec3(0.), M = vec3(0.);\\n\\n  float dl = L / float(steps);\\n  for (int i = 0; i < steps; ++i) {\\n    float l = float(i) * dl;\\n    vec3 p = (o + d * l);\\n\\n    float dR, dM;\\n    densities(p, dR, dM);\\n    dR *= dl;\\n    dM *= dl;\\n    depthR += dR;\\n    depthM += dM;\\n\\n    float Ls = escape(p, Ds, Ra);\\n    if (Ls > 0.) {\\n      float dls = Ls / float(stepss);\\n      float depthRs = 0., depthMs = 0.;\\n      for (int j = 0; j < stepss; ++j) {\\n        float ls = float(j) * dls;\\n        vec3 ps = (p + Ds * ls);\\n        float dRs, dMs;\\n        densities(ps, dRs, dMs);\\n        depthRs += dRs * dls;\\n        depthMs += dMs * dls;\\n      }\\n\\n      vec3 A = exp(-(bR * (depthRs + depthR) + bM * (depthMs + depthM)));\\n      R += (A * dR);\\n      M += A * dM;\\n    } else {\\n    }\\n  }\\n\\n  // col = (I) * (R * bR * phaseR + M * bM * (phaseM ));\\n  col = (I) * (M * bM * (phaseM)); // Mie scattering\\n#if NICE_HACK_SUN\\n  col += (SI) * (M * bM * phaseS); // Sun\\n#endif\\n  col += (I) * (R * bR * phaseR); // Rayleigh scattering\\n  scat = 0.1 * (bM * depthM);\\n  // scat = 0.0 + clamp(depthM*5e-7,0.,1.);\\n}\\n\\nvec3 hash33(vec3 p) {\\n  p = fract(p * vec3(443.8975, 397.2973, 491.1871));\\n  p += dot(p.zxy, p.yxz + 19.27);\\n  return fract(vec3(p.x * p.y, p.z * p.x, p.y * p.z));\\n}\\n\\nvec3 stars(in vec3 p) {\\n  vec3 c = vec3(0.);\\n  float res = iResolution.x * 2.5;\\n\\n  for (float i = 0.; i < 4.; i++) {\\n    vec3 q = fract(p * (.15 * res)) - 0.5;\\n    vec3 id = floor(p * (.15 * res));\\n    vec2 rn = hash33(id).xy;\\n    float c2 = 1. - smoothstep(0., .6, length(q));\\n    c2 *= step(rn.x, .0005 + i * i * 0.001);\\n    c +=\\n        c2 * (mix(vec3(1.0, 0.49, 0.1), vec3(0.75, 0.9, 1.), rn.y) * 0.1 + 0.9);\\n    p *= 1.3;\\n  }\\n  return c * c * .8;\\n}\\n\\n// SIMPLE SUN STUFF\\nconst float density = 0.5;\\nconst float zenithOffset = 0.48;\\nconst vec3 skyColor = vec3(0.37, 0.55, 1.0) * (1.0 + 0.0);\\n\\n#define zenithDensity(x) density / pow(max(x - zenithOffset, 0.0035), 0.75)\\n\\nfloat getSunPoint(vec2 p, vec2 lp) {\\n  return smoothstep(0.04 * (fov / 2.0), 0.026 * (fov / 2.0), distance(p, lp)) *\\n         50.0;\\n}\\n\\nfloat getMie(vec2 p, vec2 lp) {\\n  float mytest = lp.y < 0.5 ? (lp.y + 0.5) * pow(0.05, 20.0) : 0.05;\\n  float disk = clamp(1.0 - pow(distance(p, lp), mytest), 0.0, 1.0);\\n  return disk * disk * (3.0 - 2.0 * disk) * 0.25 * PI;\\n}\\n\\nvec3 getSkyAbsorption(vec3 x, float y) {\\n  vec3 absorption = x * y;\\n  absorption = pow(absorption, 1.0 - (y + absorption) * 0.5) / x / y;\\n  return absorption;\\n}\\n\\nvec3 jodieReinhardTonemap(vec3 c) {\\n  float l = dot(c, vec3(0.2126, 0.7152, 0.0722));\\n  vec3 tc = c / (c + 1.0);\\n  return mix(c / (l + 1.0), tc, tc);\\n}\\n\\nvec3 getAtmosphericScattering(vec2 p, vec2 lp) {\\n  float zenithnew = zenithDensity(p.y);\\n  float sunPointDistMult =\\n      clamp(length(max(lp.y + 0.1 - zenithOffset, 0.0)), 0.0, 1.0);\\n  vec3 absorption = getSkyAbsorption(skyColor, zenithnew);\\n  vec3 sunAbsorption = getSkyAbsorption(skyColor, zenithDensity(lp.y + 0.1));\\n  vec3 sun3 = getSunPoint(p, lp) * absorption;\\n  vec3 mie2 = getMie(p, lp) * sunAbsorption;\\n  vec3 totalSky = sun3; //+ mie2;\\n  totalSky *= sunAbsorption * 0.5 + 0.5 * length(sunAbsorption);\\n  vec3 newSky = jodieReinhardTonemap(totalSky);\\n  return newSky;\\n}\\n// END SIMPLE SUN STUFF\\n\\n// RAIN STUFF\\nvec3 N31(float p) {\\n  //  3 out, 1 in... DAVE HOSKINS\\n  vec3 p3 = fract(vec3(p) * vec3(.1031, .11369, .13787));\\n  p3 += dot(p3, p3.yzx + 19.19);\\n  return fract(\\n      vec3((p3.x + p3.y) * p3.z, (p3.x + p3.z) * p3.y, (p3.y + p3.z) * p3.x));\\n}\\n\\nfloat SawTooth(float t) {\\n  return cos(t + cos(t)) + sin(2. * t) * .2 + sin(4. * t) * .02;\\n}\\n\\nfloat DeltaSawTooth(float t) {\\n  return 0.4 * cos(2. * t) + 0.08 * cos(4. * t) -\\n         (1. - sin(t)) * sin(t + cos(t));\\n}\\n\\nvec2 GetDrops(vec2 uv, float Grass, float m) {\\n\\n  float t2 = t + m;\\n  vec2 o = vec2(0.);\\n\\n#ifndef DROP_DEBUG\\n  uv.y += t2 * .05;\\n#endif\\n\\n  uv *= vec2(10., 2.5) * 2.;\\n  vec2 id = floor(uv);\\n  vec3 n = N31(id.x + (id.y + Grass) * 546.3524);\\n  vec2 bd = fract(uv);\\n\\n  vec2 uv2 = bd;\\n\\n  bd -= 0.5;\\n\\n  bd.y *= 4.;\\n\\n  bd.x += (n.x - .5) * rainy;\\n\\n  t2 += n.z * 6.28;\\n  float slide = SawTooth(t2);\\n\\n  float ts = 1.5;\\n  vec2 trailPos = vec2(bd.x * ts, (fract(bd.y * ts * 2. - t2 * 2.) - .5) * .5);\\n\\n  bd.y += slide * 2.; // make drops slide down\\n\\n#ifdef HIGH_QUALITY\\n  float dropShape = bd.x * bd.x;\\n  dropShape *= DeltaSawTooth(t);\\n  bd.y += dropShape; // change shape of drop when it is falling\\n#endif\\n\\n  float d = length(bd); // distance to main drop\\n\\n  float trailMask = S(-.2, .2, bd.y); // mask out drops that are below the main\\n  trailMask *= bd.y;                  // fade dropsize\\n  float td = length(trailPos * max(.5, trailMask)); // distance to trail drops\\n\\n  float mainDrop = S(.2, .1, d);\\n  float dropTrail = S(.1, .02, td);\\n\\n  dropTrail *= trailMask;\\n  o = mix(bd * mainDrop, trailPos, dropTrail); // mix main drop and drop trail\\n\\n#ifdef DROP_DEBUG\\n  if (uv2.x < .02 || uv2.y < .01)\\n    o = vec2(1.);\\n#endif\\n\\n  return o;\\n}\\n// END RAIN STUFF\\n\\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\\n\\n  float AR = iResolution.x / iResolution.y;\\n  //   float YAR = iResolution.y / iResolution.x;\\n  //   float SAR = min(AR, YAR);\\n  //   float BAR = max(AR, YAR);\\n  //   float smallSide = min(iResolution.x, iResolution.y);\\n  //   float bigSide = max(iResolution.x, iResolution.y);\\n  float M = 1.0; // canvas.innerWidth/M //canvas.innerHeight/M --res\\n  vec2 sunPos = vec2(sin(-gameTime * PI2), cos(gameTime * PI2)) * 0.5;\\n  sunPos.x += AR * 0.5;\\n  if (sunPos.y < 0.) {\\n    sunPos.y = sunPos.y / 4.;\\n  }\\n  sunPos.y += 0.5;\\n\\n  // circle = vec2(sin(gameTime*PI2));\\n  vec2 uvMouse = sunPos;\\n  // / iResolution.xy);\\n  // uvMouse.x *= AR;\\n\\n  vec2 uv0 = (fragCoord.xy / iResolution.xy);\\n  uv0 *= M;\\n  // uv0.x *= AR;\\n\\n  vec2 uv = uv0 * (2.0 * M) - (1.0 * M);\\n  uv.x *= AR;\\n\\n  // uvMouse.y=(0.7-(0.05*fov)); //initial view\\n  // uvMouse.x=(1.0-(0.05*fov)); //initial view\\n  // circle+=0.5;\\n  // uvMouse.xy = circle - vec2((0.05*fov));\\n  // uvMouse.xy = vec2(1.0, 0.5);\\n  // uvMouse*= 100.;\\n  // uvMouse += iResolution.xy *0.5;\\n  Ds = normalize(vec3(uvMouse.x - ((0.5 * AR)), uvMouse.y - 0.5, (fov / -2.0)));\\n\\n  vec3 O = vec3(0., cameraheight, 0.);\\n  vec3 D = normalize(vec3(uv, -(fov * M)));\\n\\n  vec3 color = vec3(0.);\\n  vec3 scat = vec3(0.);\\n\\n  // float scat = 0.;\\n  float att = 1.;\\n  float staratt = 1.;\\n  float scatatt = 1.;\\n  vec3 star = vec3(0.);\\n  vec4 aur = vec4(0.);\\n\\n  float fade = smoothstep(0., 0.01, abs(D.y)) * 0.5 + 0.6;\\n\\n  staratt = 1. - min(1.0, (uvMouse.y * 2.0));\\n  scatatt = 1. - min(1.0, (uvMouse.y * 2.2));\\n\\n  if (D.y < -ts) {\\n    float L = -O.y / D.y;\\n    O = O + D * L;\\n    D.y = -D.y;\\n    D = normalize(\\n        D +\\n        vec3(0, .003 * sin(t + 6.2831 * noise(O.xz + vec2(0., -t * 1e3))), 0.));\\n    att = .6;\\n    star = stars(D);\\n    uvMouse.y < 0.5 ? aur = smoothstep(0.0, 2.5, aurora(O, D)) : aur = aur;\\n  } else {\\n    float L1 = O.y / D.y;\\n    vec3 O1 = O + D * L1;\\n\\n    vec3 D1 = vec3(1.);\\n    D1 = normalize(\\n        D + vec3(1.,\\n                 0.0009 * sin(t + 6.2831 * noise(O1.xz + vec2(0., t * 0.8))),\\n                 0.));\\n    star = stars(D1);\\n    uvMouse.y < 0.5 ? aur = smoothstep(0., 1.5, aurora(O, D)) *fade : aur = aur;\\n  }\\n\\n  star *= att;\\n  star *= staratt;\\n\\n  scatter(O, D, color, scat, t);\\n  color *= att;\\n  scat *= att;\\n  scat *= scatatt;\\n\\n// draw the badly implemented sun\\n#if SIMPLE_SUN\\n\\n  vec2 uv1 = (fragCoord.xy / iResolution.xy);\\n  uv1 *= M;\\n  uv1.x *= AR;\\n\\n  vec3 sun2 = getAtmosphericScattering(uv1, vec2(uvMouse.x, uvMouse.y));\\n  color += sun2;\\n#endif\\n\\n  color += scat;\\n  color += star;\\n  //   color=color*(1.-(aur.a)*scatatt) + (aur.rgb*scatatt);\\n  color += aur.rgb * scatatt;\\n\\n#if ENABLE_RAIN\\n  vec2 drops = vec2(0.);\\n  if (rainmulti > 1.0) {\\n    drops = GetDrops(uv / 2.0, 1., 1.);\\n\\n    color += drops.x + drops.y;\\n  }\\n#endif\\n\\n  // float env = pow( smoothstep(.5, iResolution.x / iResolution.y,\\n  // length(uv*0.8)), 0.0);\\n  fragColor = vec4(pow(color, vec3(1.0 / 2.2)), 1.); // gamma correct\\n  fragColor.r *= 1.00;\\n  fragColor.g *= 0.95;\\n  fragColor.b *= 1.0;\\n  // fragColor *= 0.8;\\n}\\nvoid main() {\\n  vec4 color = vec4(0.0);\\n  mainImage(color, gl_FragCoord.xy);\\n  gl_FragColor = color;\\n}\\n\""],"sourceRoot":""}